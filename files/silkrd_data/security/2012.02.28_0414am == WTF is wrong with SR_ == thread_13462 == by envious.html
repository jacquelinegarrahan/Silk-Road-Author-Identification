<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="robots" content="noindex" />
		<link rel="canonical" href="http://dkn255hz262ypmii.onion/index.php?topic=13462.0" />
		<title>Print Page - WTF is wrong with SR?</title>
		<style type="text/css">
			body, a
			{
				color: #000;
				background: #fff;
			}
			body, td, .normaltext
			{
				font-family: Verdana, arial, helvetica, serif;
				font-size: small;
			}
			h1#title
			{
				font-size: large;
				font-weight: bold;
			}
			h2#linktree
			{
				margin: 1em 0 2.5em 0;
				font-size: small;
				font-weight: bold;
			}
			dl#posts
			{
				width: 90%;
				margin: 0;
				padding: 0;
				list-style: none;
			}
			dt.postheader
			{
				border: solid #000;
				border-width: 1px 0;
				padding: 4px 0;
			}
			dd.postbody
			{
				margin: 1em 0 2em 2em;
			}
			table
			{
				empty-cells: show;
			}
			blockquote, code
			{
				border: 1px solid #000;
				margin: 3px;
				padding: 1px;
				display: block;
			}
			code
			{
				font: x-small monospace;
			}
			blockquote
			{
				font-size: x-small;
			}
			.smalltext, .quoteheader, .codeheader
			{
				font-size: x-small;
			}
			.largetext
			{
				font-size: large;
			}
			.centertext
			{
				text-align: center;
			}
			hr
			{
				height: 1px;
				border: 0;
				color: black;
				background-color: black;
			}
		</style>
	</head>
	<body>
		<h1 id="title">Silk Road forums</h1>
		<h2 id="linktree">Discussion => Security => Topic started by: envious on February 28, 2012, 04:14 am</h2>
		<dl id="posts">
			<dt class="postheader">
				Title: <strong>WTF is wrong with SR?</strong><br />
				Post by: <strong>envious</strong> on <strong>February 28, 2012, 04:14 am</strong>
			</dt>
			<dd class="postbody">
				A Database Error Occurred<br /><br />Error Number: 1146<br /><br />Table &#039;market.favorites&#039; doesn&#039;t exist<br /><br />SELECT COUNT(*) AS `numrows` FROM (`favorites`) WHERE `type` = &#039;user&#039; AND `object_id` = &#039;1444&#039; AND `deleted` = 0<br /><br />Filename: /var/www/libraries/Extras.php<br /><br />Line Number: 1842<br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>jimcarrey222</strong> on <strong>February 28, 2012, 04:17 am</strong>
			</dt>
			<dd class="postbody">
				same...something to do with the new &quot;Favorite vendors&quot; feature perhaps?
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>Locrian</strong> on <strong>February 28, 2012, 04:17 am</strong>
			</dt>
			<dd class="postbody">
				Super weird.&nbsp; It does it for me too.&nbsp; But apparently it&#039;s only a problem on the front page.&nbsp; You can navigate the site just fine as long as you avoid the front page.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>MacMan</strong> on <strong>February 28, 2012, 04:18 am</strong>
			</dt>
			<dd class="postbody">
				wtf im getting that too, but its not everything
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>February 28, 2012, 04:19 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg129335#msg129335">Quote from: envious on February 28, 2012, 04:14 am</a></div></div><blockquote class="bbc_standard_quote">A Database Error Occurred<br /><br />Error Number: 1146<br /><br />Table &#039;market.favorites&#039; doesn&#039;t exist<br /><br />SELECT COUNT(*) AS `numrows` FROM (`favorites`) WHERE `type` = &#039;user&#039; AND `object_id` = &#039;1444&#039; AND `deleted` = 0<br /><br />Filename: /var/www/libraries/Extras.php<br /><br />Line Number: 1842<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />My guess would be that the table market.favorites doesn&#039;t exist, and this is causing problems with the code on line number 1,842 in the Extras.php file 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>F104</strong> on <strong>February 28, 2012, 04:19 am</strong>
			</dt>
			<dd class="postbody">
				I have URLs for a couple vendors but they take me to the error message.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>F104</strong> on <strong>February 28, 2012, 04:20 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg129347#msg129347">Quote from: kmfkewm on February 28, 2012, 04:19 am</a></div></div><blockquote class="bbc_standard_quote"><div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg129335#msg129335">Quote from: envious on February 28, 2012, 04:14 am</a></div></div><blockquote class="bbc_alternate_quote"><br />Line Number: 1842<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />My guess would be that the table market.favorites doesn&#039;t exist, and this is causing problems with the code on line number 1,842 in the Extras.php file<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />I&#039;m slow. Mine is only at Line 67.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>happyroller1234</strong> on <strong>February 28, 2012, 04:22 am</strong>
			</dt>
			<dd class="postbody">
				I first got to the login page, then got the error.&nbsp; I tried going to SR through Wikipedia.org, and now I&#039;m getting the database error on the index page.&nbsp; I can&#039;t even see the login!&nbsp; What&#039;s going on?&nbsp; I hope everything&#039;s OK.&nbsp; I have a lot of money in my account.&nbsp; :-\
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>emberglow</strong> on <strong>February 28, 2012, 04:22 am</strong>
			</dt>
			<dd class="postbody">
				Looks like somebody needs a DBA..<br /><br />Can anyone navigate the listings by going directly to the various categories? If so, what are the URLs? Would be a decent workaround for now..
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>divinechemicals</strong> on <strong>February 28, 2012, 04:25 am</strong>
			</dt>
			<dd class="postbody">
				I have a couple of seller&#039;s URLs saved, and trying to go directly to those URLs is currently bringing up the same error. I&#039;m sure it will be fixed in good time though.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>MacMan</strong> on <strong>February 28, 2012, 04:26 am</strong>
			</dt>
			<dd class="postbody">
				ugh, the &#039;deleted&#039; shit is what worries me. Hope all is well...<br /><br />Hey everyone, hope your all having a good evening otherwise:)
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>dman420</strong> on <strong>February 28, 2012, 04:27 am</strong>
			</dt>
			<dd class="postbody">
				yea no fun when the SR isnt workin right
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>jimcarrey222</strong> on <strong>February 28, 2012, 04:27 am</strong>
			</dt>
			<dd class="postbody">
				I was logged into the SR when it happened, i was only able to navigate between my account and balance information. Once logged out it has the same message on the login page.<br /><br /><br /><br />&nbsp;DPR just announced the new vendor favorites and the missing favorites table mentioned in the message might mean a quick code fix.<br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>dman420</strong> on <strong>February 28, 2012, 04:33 am</strong>
			</dt>
			<dd class="postbody">
				i logged off then logged back on and it seems to be working for me again
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>February 28, 2012, 04:36 am</strong>
			</dt>
			<dd class="postbody">
				Interesting switch: «AND `deleted` = 0»<br />So... SR never actually deletes anything from DB and uses a switch instead to hide it? Nice to know...
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>divinechemicals</strong> on <strong>February 28, 2012, 04:39 am</strong>
			</dt>
			<dd class="postbody">
				All is well again captain. Thanks for the quick fix.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>Laughing Man</strong> on <strong>February 28, 2012, 05:07 am</strong>
			</dt>
			<dd class="postbody">
				He STILL hasn&#039;t turned off showing database errors? I so do not trust this site.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>divinechemicals</strong> on <strong>February 28, 2012, 05:17 am</strong>
			</dt>
			<dd class="postbody">
				Ok, then stop coming. I can&#039;t imagine being DPR at times like this, making great changes and running this paradise, and people are still going to give him shit no matter what. He goes out of his way constantly to make improvements and really listen to the feedback of the community, but the site showing database errors just has to be the worst thing ever.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>February 28, 2012, 05:30 am</strong>
			</dt>
			<dd class="postbody">
				I think that&#039;s not what he meant, maybe a wrong choice of words, but this site also shows that runs Apache 2.2.14 under Ubuntu with display_errors = 1 and that nothing is actually being deleted from DB when you order it to do so...<br />This means a poorly hardened server for Tor environment, unless you have no concern for your data, that is.<br /><br />***PARANOIA ALERT BEGIN***<br />Let me put this to the worse scenario; let&#039;s put to option that an exploit is found for Apache 2.2.14 which allows an attacker to inject and use it as proxy, so he could make SR to fetch www.fbi.gov/sr_hook.txt, Apache would go fetch that file out of Tor dropping SR&#039;s real IP Address and, therefore, location.<br />Also I do prefer to be sure that when an order is put in transit my address is blanked out of the DB rather than just a fag switch saying &quot;deleted = 1&quot; or when or if this goes down we go along.<br />***PARANOIA ALERT END***<br /><br />So yes, DPR has to take some shit and fix these potential holes before shit gets serious, don&#039;t you think?
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>envious</strong> on <strong>February 28, 2012, 05:34 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg129418#msg129418">Quote from: Laughing Man on February 28, 2012, 05:07 am</a></div></div><blockquote class="bbc_standard_quote">He STILL hasn&#039;t turned off showing database errors? I so do not trust this site.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />well he should probably turn that off..
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>Laughing Man</strong> on <strong>February 28, 2012, 05:39 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg129441#msg129441">Quote from: divinechemicals on February 28, 2012, 05:17 am</a></div></div><blockquote class="bbc_standard_quote">Ok, then stop coming. I can&#039;t imagine being DPR at times like this, making great changes and running this paradise, and people are still going to give him shit no matter what. He goes out of his way constantly to make improvements and really listen to the feedback of the community, but the site showing database errors just has to be the worst thing ever.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div>You clearly have no idea about computer security and how helpful it is to an attacker to know the database structure. And you may note that I have never used the SR marketplace for reasons like this, but I enjoy the community.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>envious</strong> on <strong>February 28, 2012, 05:53 am</strong>
			</dt>
			<dd class="postbody">
				i think we should all assume sr is already rooted and use our own defenses against it... technically u should be able to use sr without ever leaking personal information to sr itself. gpg + tor isolated vms&nbsp; etc.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>mushitup</strong> on <strong>February 28, 2012, 05:58 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg129505#msg129505">Quote from: envious on February 28, 2012, 05:53 am</a></div></div><blockquote class="bbc_standard_quote">i think we should all assume sr is already rooted and use our own defenses against it... technically u should be able to use sr without ever leaking personal information to sr itself. gpg + tor isolated vms&nbsp; etc.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The only way to treat something that you think is secure is to treat it like it&#039;s compromised.&nbsp; ;)
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>February 28, 2012, 09:43 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg129378#msg129378">Quote from: DaMan on February 28, 2012, 04:36 am</a></div></div><blockquote class="bbc_standard_quote">Interesting switch: «AND `deleted` = 0»<br />So... SR never actually deletes anything from DB and uses a switch instead to hide it? Nice to know...<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />not nice to know that SR didn&#039;t know to not leave error reporting on :(
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>February 28, 2012, 09:48 am</strong>
			</dt>
			<dd class="postbody">
				I think it is really apparent even before this that SR doesn&#039;t know that much about running a hardened server or writing security critical code. Thing is people should be managing their own security and not care if the server is compromised, so does it really matter? Also he knows enough to configure a tor hidden service and he is using linux, so it probably isn&#039;t a horrible failure security wise. 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>February 28, 2012, 09:57 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg129465#msg129465">Quote from: DaMan on February 28, 2012, 05:30 am</a></div></div><blockquote class="bbc_standard_quote">I think that&#039;s not what he meant, maybe a wrong choice of words, but this site also shows that runs Apache 2.2.14 under Ubuntu with display_errors = 1 and that nothing is actually being deleted from DB when you order it to do so...<br />This means a poorly hardened server for Tor environment, unless you have no concern for your data, that is.<br /><br />***PARANOIA ALERT BEGIN***<br />Let me put this to the worse scenario; let&#039;s put to option that an exploit is found for Apache 2.2.14 which allows an attacker to inject and use it as proxy, so he could make SR to fetch www.fbi.gov/sr_hook.txt, Apache would go fetch that file out of Tor dropping SR&#039;s real IP Address and, therefore, location.<br />Also I do prefer to be sure that when an order is put in transit my address is blanked out of the DB rather than just a fag switch saying &quot;deleted = 1&quot; or when or if this goes down we go along.<br />***PARANOIA ALERT END***<br /><br />So yes, DPR has to take some shit and fix these potential holes before shit gets serious, don&#039;t you think?<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />I would hope that the web server is in some sort of jail and doesn&#039;t have any ability to send data outside of Tor (or to know any external IP addresses associated with the server).....but I doubt that this is the case ;) <br /><br />anyway your paranoia alert was stupid because it pretty much boils down to<br /><br />&quot;let&#039;s say a vulnerability is found and somebody exploits it!!!&quot; <br /><br />well no shit sherlock ;P <br /><br />lets say that the earth blows up suddenly oh noez we r all ded<br />&nbsp;<br />SR really should be changing server location frequently though. I think that is the single biggest thing that he could do for the security of this site and the people that use it. Feds gon trace a hidden service eventually if they have not yet figured out how to do it (which kind of amazes me), but the process is going to take time...so the best thing is to constantly be changing servers location in the hopes that you change server location faster than the feds can trace a hidden service. But everyone knows if you just leave a Tor hidden server in one spot that eventually it is going to be traced.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>February 28, 2012, 12:30 pm</strong>
			</dt>
			<dd class="postbody">
				Change the server location?&nbsp; ;D<br />Love the theory, but Tor doesn&#039;t work that way, you never connect to the server, you connect to the meeting point. Tor is actually too well designed to be much of a concern, just some apps can drop the real IP and be a problem.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>friendlyoutlaw</strong> on <strong>February 28, 2012, 01:03 pm</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg129378#msg129378">Quote from: DaMan on February 28, 2012, 04:36 am</a></div></div><blockquote class="bbc_standard_quote">Interesting switch: «AND `deleted` = 0»<br />So... SR never actually deletes anything from DB and uses a switch instead to hide it? Nice to know...<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />I remember him saying way back when, at least for messages, they don&#039;t actually get deleted from the DB until both the sending and receiving party either delete them manually or they expire after 3 months.<br /><br />Of course, who knows. But that would at least be consistent with seeing the &quot;and deleted = 0&quot; qualifier.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>February 28, 2012, 01:25 pm</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg129846#msg129846">Quote from: DaMan on February 28, 2012, 12:30 pm</a></div></div><blockquote class="bbc_standard_quote">Change the server location?&nbsp; ;D<br />Love the theory, but Tor doesn&#039;t work that way, you never connect to the server, you connect to the meeting point. Tor is actually too well designed to be much of a concern, just some apps can drop the real IP and be a problem.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Actually hidden services can be traced up to their entry guards with this attack:<br /><br />http://freehaven.net/anonbib/cache/hs-attack06.pdf<br /><br />and then deanonymized by anyone who compromises one of the guard nodes (easily done with a court order if they are in USA, still easily done if they are in a foreign country via a MLAT although might take a bit longer). <br /><br />Hidden server should change its location periodically 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>February 28, 2012, 06:52 pm</strong>
			</dt>
			<dd class="postbody">
				You should start to read the articles about vulnerabilities starting by the date, and that document (and outdated attack) dates from May 2006.<br />That attack could succeed out of a small Tor network, as it states: «It is currently the largest anonymity network in existence, with about 450 server nodes».<br /><br />ATM your server keeps &quot;changing location&quot; at random time by itself. The only traffic analysis was if the network was small enough for you to be able to spot it at the DS, like IP1 online last 24h, IP2 online last 8h offline now for 1h; IP1 is the server, IP2 is the client... but the network is way too big for it.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>February 28, 2012, 07:11 pm</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg130191#msg130191">Quote from: DaMan on February 28, 2012, 06:52 pm</a></div></div><blockquote class="bbc_standard_quote">You should start to read the articles about vulnerabilities starting by the date, and that document (and outdated attack) dates from May 2006.<br />That attack could succeed out of a small Tor network, as it states: «It is currently the largest anonymity network in existence, with about 450 server nodes».<br /><br />ATM your server keeps &quot;changing location&quot; at random time by itself. The only traffic analysis was if the network was small enough for you to be able to spot it at the DS, like IP1 online last 24h, IP2 online last 8h offline now for 1h; IP1 is the server, IP2 is the client... but the network is way too big for it.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />this attack is out dated in what sense? They added entry guards so now the entry guards are traced instead of the actual server. Before this was published the actual hidden server could be traced to its IP address with this attack. Now it can be traced to its entry guards, which can be monitored to trace to the hidden server once they are identified. 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>February 28, 2012, 07:20 pm</strong>
			</dt>
			<dd class="postbody">
				You can use an entry guard or log directly to DS, actually I think EG to be a low not a surplus because, as you said, it can be seized and if just few clients connect there they, the clients, become too exposed. <br />What makes the network anonymous is its size and what makes that attack outdated is the same reason why 51% bitcoin attack isn&#039;t an issue; you can&#039;t possibly control enough nodes to do it.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>February 28, 2012, 07:37 pm</strong>
			</dt>
			<dd class="postbody">
				You don&#039;t need to own many nodes to do this attack. You can force a hidden service to open an arbitrary number of circuits. If you own even a trivial amount of nodes eventually one of the +1 circuits you can force a hidden service to make will have a node that you own be part of that circuit. This attack is still entirely effective for tracing hidden services to their entry guards. 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>February 28, 2012, 07:48 pm</strong>
			</dt>
			<dd class="postbody">
				No you can&#039;t... not to the entry guard, not the ip, not to nothing at all. It&#039;s a silly theory, nothing else, because the RV isn&#039;t 1 node away of the entry guard and you can&#039;t possibly lure Tor to choose your node over a possible another.<br /><br />They made it with half-dozen nodes but if Tor was half-dozen nodes long nobody in that network would be anonymous for starters.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>raven92</strong> on <strong>February 28, 2012, 09:31 pm</strong>
			</dt>
			<dd class="postbody">
				Yip, SR really shouldn&#039;t have errors visible, giving error feedback is a great way to ensure everyone&#039;s records will/have been compromised. <br /><br />Making them hidden doesn&#039;t fix potential holes, but it sure as hell makes them a whole lot harder to exploit.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>February 28, 2012, 09:52 pm</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg130256#msg130256">Quote from: DaMan on February 28, 2012, 07:48 pm</a></div></div><blockquote class="bbc_standard_quote">No you can&#039;t... not to the entry guard, not the ip, not to nothing at all. It&#039;s a silly theory, nothing else, because the RV isn&#039;t 1 node away of the entry guard and you can&#039;t possibly lure Tor to choose your node over a possible another.<br /><br />They made it with half-dozen nodes but if Tor was half-dozen nodes long nobody in that network would be anonymous for starters.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />blah why even waste my time to argue with your stupid ass what the fuck is an RV even for starters, you use a lot of acronyms that I have never heard before , and you brute force the hidden service to make it open a ton of circuits and your nodes will be used on some of them, and the attack is still entirely feasible against the network, you are the one who has no idea what you are talking about so fuck off calling it a silly theory lol you are the silly one to try to argue about things you have zero understanding of<br /><br />edit: looked up rv, you might want to just say rendezvous instead of use terminology that is not ever used in any of the literature<br /><br />and you of course are not understanding how this attack works. Yes my Tor client opens a circuit to a rendezvous point when it communicates with the Tor hidden service. Yes. The hidden service also opens a circuit to the rendezvous. A hidden service opens a new circuit for every single client that connects to it. A malicious client can make a hidden service open as many new circuits as it wants to as many rendezvous nodes as it wants. The hidden service uses new nodes for its circuits. If the malicious client that forces it to open arbitrary circuits has some nodes on the network, eventually the hidden service is going to use those nodes on its path to the rendezvous. Now the malicious client sends the hidden service packets with self created timing delay pattern and at its malicious nodes it looks for this pattern to identify traffic that is being routed to the hidden service from the malicious client. Doing this for long enough (not that long) traces the fucking hidden service as soon as the first node the actual server sends data to is owned by the attacker. Tor sort of tried to fix this by adding entry guards, nodes that Tor always tries to enter traffic through if they are up selected from a much smaller pool of randomly selected nodes (3 randomly selected nodes from the total list of nodes with the entry flag, changed every 30 to 60 days by default). Unfortunately this attack is still perfectly fucking fine for tracing the hidden service to its entry guards at which point a simple trap and trace order (with a MLAT if required) is enough to deanonymize the hidden service.<br /><br />Please try to read the fucking paper before making me waste my time to type an abstract of it <br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>March 02, 2012, 01:58 pm</strong>
			</dt>
			<dd class="postbody">
				You seams to miss the point totally.<br />1st no system is anonymous if lacks users enough. If Tor had 5 users and one does something to put a LEA in his trail, all they would need is to sort out the 4 innocent guys. Reason why i2p and freenet are lesser anonymous than Tor.<br />Then, the traffic analysis of Tor is almost impossible. Even in the paper you showed they come out with a pattern crossing 6 packets sent with 7 packets received... the only way they know those 6 packets are theirs is because they sent them in the first place and knew what they were looking for as there&#039;s no way also to tell if the first node is the first node, it leaves the server encrypted already and the server may be a relaying traffic, requesting or serving... who knows?<br />Bottom line, your fucking &quot;abstract&quot; is so outdated and long shot that doesn&#039;t even figure in the list of Tor reliable attacks. To not mention you take LEA as some sort of Chinese triad or mobsters not bothering to tackle as many innocent in the way to get through... like apprehending servers at random despite they&#039;re the server or simple relays.<br /><br />The most reliable attack to «deanonymize» an user or server is to use an application than can do a parallel non-Tor connection to somewhere.<br />The second most reliable was made by a French guy at 2011 but requires that you control 1/3rd of all nodes and will allow you to decrypt some layers. Still not that reliable, as Feds tried this method in the past with a redundant failure.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>March 02, 2012, 05:38 pm</strong>
			</dt>
			<dd class="postbody">
				Can not tell if you are trolling or just stubborn and retarded. I am really tired of trying to educate people about Tor today, particularly people who you would think would know better (not you, I don&#039;t expect you to know jack shit). Traffic analysis of Tor is not almost impossible. All you need to do to deanonymize a Tor user is be able to see traffic from them and/or to them enter and exit the network (or in the case of a hidden service, reach its final destination, the hidden service server). <br /><br />observing 6 packets at multiple points in the Tor network is more than enough to link them together, regardless of who sent them. This is true of all low latency networks that don&#039;t use some latency blending protocol like Alpha or Tau mixing. Actually, observation of a single packet at two points&nbsp; on a circuit is all that is required to break Tor anonymity: www.blackhat.com/presentations/bh-dc-09/Fu/BlackHat-DC-09-Fu-Break-Tors-Anonymity.pdf (Single cell is enough to break Tor&#039;s anonymity) although to be fair the author of that paper is just a sensationalist who pretty much re-invented the timing attack. <br /><br />Regardless, yes the attacker is the one who sends the packets in this attack. Remember, to deanonymize a Tor user you only need to observe traffic to them entering the network and arriving at them also. Well, if you send packets to a hidden service you can certainly watch them enter the network. Now all you need to do is watch them arrive at their destination!&nbsp; Okay, now the next part of the attack is being able to watch the packets reach the destination, in this case the hidden service. How to do this?!?!<br /><br />What you do is this. Every time you connect to a hidden service you tell it a rendezvous node to build a circuit to. A client can tell a hidden service to connect to as many damn rendezvous nodes as it wants, and the hidden service builds a new circuit to the rendezvous node. So what you do is add some nodes to the network, this is called a sybil attack and it is the basis for all other active attacks. Now you tell the hidden service to build an arbitrary number of circuits to an arbitrary number of rendezvous nodes. Each of these circuits consists of nodes selected from the Tor network. Now, since you own some of the nodes on the Tor network, and since you can force the hidden service to open as many new circuits as you want, eventually some of these newly created circuits are going to use nodes that you own! The only likely exception is the entry nodes of the hidden service, because it selects three nodes once every month to two months, and always enters traffic through these nodes if they are up. So unless it selects one of your nodes as its entry guards, it will never enter traffic through your nodes. <br /><br />Now from the client you send a stream of packets to the hidden service down all of the opened circuits you have built to it. You introduce a specific interpacket timing pattern to your stream and now you monitor at all of your Tor nodes looking for packet strems that fit this pattern. Once you detect the pattern at one of your sybil nodes you know that they are on the path to the hidden service. Now there are a few things you can do. First of all, you own the rendezvous node and every Tor node can see the IP address of its direct neighbors. So if you detect the pattern you introduce, the first thing you can do is see if the pattern came from the rendezvous node you selected. If it did, you know that the node that detected the pattern is the third node from the hidden service, which directly connects to the rendezvous. If it didn&#039;t you know that the node is either the middle node or the entry guard of the hidden service. If the node you detect the traffic pattern in forwards that traffic on to a known Tor relay IP address, but doesn&#039;t get the traffic from the rendezvous node, you know that the node you are sending traffic to is either the hidden service and that it is a Tor relay, or that it is one of the entry guards of the hidden service. If the node you detect the traffic pattern in doesn&#039;t get the traffic from the rendezous and forwards it on to an IP address that is not a publicly listed Tor relay, you know that you are either forwarding the traffic to the hidden services IP address and that you are one of its entry guards, or you know that you are sending the traffic to a bridge that the hidden service is using as an entry guard.<br /><br />Now there are a few things you can do if you determine that you may be the entry or middle node on the hidden services circuit. If you know you are either sending traffic to the hidden service IP or a bridge IP, you can try to make a bridge connection through the IP address and see if it treats it as a bridge connection. If it doesn&#039;t, you know it is the hidden services IP, if it does you know it is a bridge and the hidden service is using it as an entry guard. If you know you are the middle node and want to see if the hidden service is the relay you forward traffic on to or if it is an entry guard, there are a few things you can do. First of all, you can DDOS the node and see if there is a down time correlation between it being DDOSed and the hidden service going down. Or you can just keep doing the attack for a period of time and then use statistical analysis on the resulting dataset to come to a conclusion on if the hidden service is the relay or if the relay is an entry guard.<br /><br />In either case doing this attack will quickly trace either the hidden service, if you own one of its entry guards, or all of its entry guards, at which point you can order a trap and trace on it (via MLAT if required) to get its IP address. Or if you are not an attacker powerful enough to do legal passive analysis, there are plenty of other things you can try to do to get around the entry guard. You could try to hack the entry guards. You could simultaneously DDOS the entry guards forcing the hidden service to select three new ones, and keep doing this until you run out of bandwidth to DDOS with or the hidden service selects one of your nodes as an entry guard. Or you could locate the entry guard and illegally tap it. Or you could social engineer the person who runs the entry guard into giving you access to it. Or you could blah blah blah. Harder for an attacker who can&#039;t legally order passive monitoring, but not impossible.<br /><br /><br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">Bottom line, your fucking &quot;abstract&quot; is so outdated and long shot that doesn&#039;t even figure in the list of Tor reliable attacks. To not mention you take LEA as some sort of Chinese triad or mobsters not bothering to tackle as many innocent in the way to get through... like apprehending servers at random despite they&#039;re the server or simple relays.</blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The thing is they can get a positive identification of the hidden services IP address before a single server is seized. <br /><br />Would you like to keep arguing with me and look more an more retarded with every post, or do you just want to admit that you were wrong (of course not, people like you never admit they are wrong they just get more and more retarded). Fair warning: I have been studying traffic analysis for several years now, if you have not then chances are you are not going to be proving me wrong. <br /><br />But by all means if you want to live in some fantasy world where Tor is super anonymous and totally impossible to pwn go right on ahead, you will be in good company with the vast majority of its users and probably 98% of the people who would bother trying to attack it if they thought it was even remotely possible. Unfortunately, you guys live in a fantasy world. As far as anonymity goes Tor is a toy, the real powerful networks barely ever get further than mathematic formulas and whitepapers , largely because they require significant time delays and everybody wants low latency. 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>padawan65</strong> on <strong>March 02, 2012, 10:34 pm</strong>
			</dt>
			<dd class="postbody">
				I agree that services can be found within TOR, but it is much more difficult than just tracing 6 packets and find their intersection.&nbsp; Tracing 6 TOR packets will just give the relay that they each packet enters the TOR network.&nbsp; After this what is required is to trace from the relays, through how many levels of relays/anonymisers they have, until they arrive at the server.&nbsp; This would be extremely difficult because you would only have limited access inside the TOR network, but with adequate resources/tools it is not impossible.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>March 03, 2012, 01:57 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg134790#msg134790">Quote from: padawan65 on March 02, 2012, 10:34 pm</a></div></div><blockquote class="bbc_standard_quote">I agree that services can be found within TOR, but it is much more difficult than just tracing 6 packets and find their intersection.&nbsp; Tracing 6 TOR packets will just give the relay that they each packet enters the TOR network.&nbsp; After this what is required is to trace from the relays, through how many levels of relays/anonymisers they have, until they arrive at the server.&nbsp; This would be extremely difficult because you would only have limited access inside the TOR network, but with adequate resources/tools it is not impossible.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />That is called a correlation not an intersection, two totally different sorts of attack. And yes it really is that easy. Researchers have done this attack against the live Tor network and traced hidden services in a matter of minutes to days prior to entry guards. Now entry guards can be traced in a matter of hours to days. When you can force the server to open as many circuits as you damn well please, it really isn&#039;t going to take that long for some of your nodes to be on the circuit enough times to enumerate the entry guards. Give me 12 high bandwidth VPS for a month and I will trace any hidden service you want to its entry guards. <br /><br />from the paper<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; In this paper we demon-<br />strate attacks (not simulations) on the deployed Tor<br />network that reveal the location of a hidden server.<br />The attacks are cheap and fast: they use only a sin-<br />gle hostile Tor node and require from only minutes<br />to a few hours to locate a hidden server.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">&nbsp; &nbsp;From the experimental results we can also con-<br />clude that we need far less data to pinpoint the lo-<br />cation of the Hidden Server than we gathered. A<br />rough estimate is that within the order of an hour or<br />two we should have a positive match of the location<br />of the hidden service using the predecessor attack.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />hmm lets see how entry guards changed the attack<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">Experiment - Attacking Entry Guard Nodes:<br />Letting the Hidden Service use three permanent,<br />preferred entry guards we found that these nodes<br />combined represented all identified connections<br />through Alice’s node, as shown in Table 2. A<br />quite unexpected result, but caused by the imple-<br />mentation feature in Tor described earlier: we were<br />never Node 3, only Node 2 (Node 1 being the entry<br />guard).<br />&nbsp; &nbsp;As in our previous experiments, identifying the<br />entry guard nodes through our attacks never took<br />more than a few hours.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">&nbsp; &nbsp; We have demonstrated that an attack with one<br />compromised node in the anonymity network takes<br />only minutes if the service is located at a client, or a<br />couple of hours when located on a server node. By<br />using two nodes in the network it only takes min-<br />utes to find the Hidden Server regardless of where<br />it is located.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Damn I even remembered this paper wrong, I thought it had taken them days to weeks to trace the hidden services and that they had used multiple nodes, not minutes to hours with a single node. And entry guards were the defense to this attack, and now the entry guards are traced in minutes to hours instead of the hidden service itself. Even with the significant increase in Tor network size following this attack (a few times as large) it isn&#039;t going to take longer than a week at the max to do this same attack.<br /><br />Really if you guys want to argue with linked citations, quotes from traffic analysis experts and someone who has been studying this shit for years, go right ahead and knock yourselves the fuck out. What if I get a quote from one of the Tor devs saying that I am right will you believe me then? Cuz I already know that they all know this attack will trace entry guards without any problems. They also all know that FBI can trap and trace the shit out of the entry guards if they are in USA, and MLAT the shit out of them if they are in any other country, to deanonymize the hidden service. In the #tor IRC Arma, the person who implemented Tor in the first place, said that hidden services are fucked, and that is more or less a direct quote. <br /><br />Please tell me geniuses what more do you need to convince you? If cited papers from world experts, full of technical details, including how this attack was carried out live against the Tor network, plus the words of someone who has been studying traffic analysis for years, plus the words of the person who implemented the fucking network in the first place, are not enough to convince you that you don&#039;t know what the hell you are talking about, then please tell me what it will take. Put up a fucking hidden service and buy me some VPS nodes and I will tell you its entry guards, will that convince you? <br /><br />If you don&#039;t even know how to fucking spell *Tor* then why are you acting like you know more about it than I do? <br /><br />People learning misinformation from idiots like you guys talking about shit you heard from other idiots talking about shit they heard from other idiots talking about shit they heard from DISINFO agents is why there are so many people who think Tor hidden services offer protection from anything other than Joe Blow putting a complaint in to a sites hosting provider. Actually that is going too far, it can also protect&nbsp; substantially from someone who can add nodes to the network but not order nodes on the network to be monitored at their ISPs after the node that has direct contact with the hidden service is identified. Entry guards boosted it up from &#039;Joe Blow&#039; not being able to pwn it to &#039;Someone with a moderate level of computer knowledge and a little bit of money to spend on it, who gets a bit of bad luck and doesn&#039;t spend much effort on it&#039; not being able to pwn it without a bit of extra work. It is still fully in the &#039;law enforcement can pwn it with little work&#039; and &#039;someone with a moderate level of computer knowledge, a bit of money, a bit of luck, and a significant amount of effort, can still probably manage to fully pwn it&#039; category. <br /><br />I know I can trace hidden service to its entry guards with little work, and I know if I was law enforcement I could then order the ISP to give me the logs from the entry guard (and start logging if they are not already), since trap and trace can be done without a warrant if LE can prove that it directly relates to a criminal investigation. Guess what being able to technically prove that a trap and trace will deanonymize a targeted hidden service is more than enough legal justification to use one for the literally few seconds required to obtain the hidden services real IP address after its entry guards are identified. And if you think entry guards being outside of USA is going to help at all look up MLAT I don&#039;t have time to explain every single detail of every little thing over and over to people who are content to argue in the face of overwhelming evidence, seems like a complete waste of time to me. <br /><br /><br /><br />&nbsp;Then again I shouldn&#039;t be so hard on Tor, I am not certain if the feds realize how easy it is to trace hidden services either, their traffic analysis operations are almost entirely focused on spidering P2P networks with (extremely expensive) simple spidering programs looking for CP files. Then again I wouldn&#039;t be surprised at all if they are already passively monitoring all of the interesting hidden services, with 50% of a correlation attack already done, waiting for clients to use their poisoned entry guards to deanonymize themselves. With out proper intelligence it is impossible to know their true capabilities, especially at the level where they start trying to keep the information secret / compartmentalized (for example, not something they give a shit about with the P2P spidering, the entire name and technical details of operation fairplay against the CP traders can be discovered with simple google searching and digging around academic articles on law enforcement oriented traffic analysis......but if there were an ongoing traffic analysis operation against Tor users the average agent would probably not even be aware of it....and a lot of published LE documentation shows that they struggle with much easier things than Tor, but who knows maybe it is misinfo to an extent, and who knows about the documentation that has a classification level stamped on it). Regardless I would have to assume that at least a significant number of people who would go into FBI traffic analysis would independently learn about ways to trace hidden services (I had a copy of a cyber career path guideline for FBI that shows their educational structure and if I am remembering correctly they started training agents who selected this specialty about traffic analysis after 8 years worth of other general computer and computer forensic / security / etc training). Who knows what they know, but I know that they can pwn Tor hidden services and we should assume that they know they can too. 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>friendlyoutlaw</strong> on <strong>March 03, 2012, 03:48 am</strong>
			</dt>
			<dd class="postbody">
				Few points.<br /><br />- You&#039;ve convinced me that tor isn&#039;t as secure as everybody thinks.<br /><br />- I still think we&#039;ll see the hidden CP sites get busted first.<br /><br />- I think the level of sophistication required to conduct the attacks you refer to is only possessed at an institutional level by agencies who only concern themselves with issues of national security.<br /><br />- I think the law enforcement is more concerned with funding and headlines than actually stopping clever people from buying drugs. They will continue to &quot;attack&quot; whoever is dumb enough to wave their dicks around and get caught. I would have to think (admittedly made up statistic to follow) that 90% of the busts that happen with regards to narcotics are from somebody getting busted and ratting somebody out. After that, 9% are from people who make stupid mistakes, and finally 1% are in the wrong place at the wrong time. When you have so many stupid drug dealers running around, it&#039;s hard to put in the effort to go after the really sophisticated ones.<br /><br />Just to address what I know your first response would be, is any of that worth risking your security on? And my response would be, where does the paranoia end? Nothing is secure. Nothing. Point at something and claim it&#039;s secure, and it&#039;s only a matter of time until you&#039;re wrong. So, all we can do is evaluate risk and reward, do our best to stay as safe as possible, and it never hurts to have a few people in your pocket :)
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>March 03, 2012, 07:09 am</strong>
			</dt>
			<dd class="postbody">
				kmfkewm<br /><br />Let me point you your pointless fucking long trolling &quot;I&#039;m a noo...sorry... hacker&quot; article and the biggest misconception/flaws/sensationalism you put there: Did you ever took a look at a fucking onion?<br />Let&#039;s say your IP is 1 you own 4 which happens by chance to be the rendezvous and the server is 7, at each node your packet headers will be modified, creating a new layer, by encrypting the data inflates, so instead of:<br /><br />your fucking packets -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 4 (your fucking packets) &lt;- 5 &lt;- 6 &lt;- 7<br />you get:<br />your fucking packets -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 4 (gibberish you can&#039;t understand, they don&#039;t match anything that has leave 1) &lt;- 5 &lt;- 6 &lt;- 7<br /><br />This is how Tor works, at each node the data is re-encrypted and changed, the headers are modified, the contents are modified, the size ain&#039;t the same anymore.<br /><br />You know that your theory was used several times by FBI to try to catch those pedo sites around, don&#039;t you? Or you think you&#039;re the fucking genius who saw the light alone?!<br /><br />Then you&#039;ve folks who add entropy to another network weakness by doing something somewhat unsafe at Tor but much unsafer at surfacewebs these days in some countries; download torrents. They generate a huge amount of traffic in the network that could otherwise be used to trace hidden services by traffic analysis.<br /><br />But still, even if Tor is safe by now, it doesn&#039;t mean in the future, near or distant, something may come up to make it unsafe, so keep using it as if it was compromised is a good way to go.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>March 03, 2012, 12:48 pm</strong>
			</dt>
			<dd class="postbody">
				I didn&#039;t say you could correlate based on the actual data stream, you need to insert artifacts such as interpacket arrival patterns (or just use the patterns that naturally arise). It doesn&#039;t matter if you can&#039;t decrypt O (the packet) if you can detect the unique timing pattern between packets. <br /><br />lets say you have <br /><br />O----O--O-----O-------O---O-O--------O<br /><br />a stream of encrypted packets that goes through multiple relays, with each relay performing decryption operations on another layer:<br /><br /><br />O----O--O-----O-------O---O-O--------O -&gt; 1 -&gt;&nbsp; P----P--P-----P-------P---P-P--------P -&gt; 2 -&gt; etc<br /><br />Even though the content of the packets changes, the interpacket arrival characteristics are not obfuscated and they work perfectly well to determine that one stream of packets is linked to another stream of packets that was observed at another point.<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">by encrypting the data inflates, so instead of:</blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The encryption mode that Tor uses actually doesn&#039;t increase data size with additional layers of encryption. <br /><br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">your fucking packets -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 4 (your fucking packets) &lt;- 5 &lt;- 6 &lt;- 7<br />you get:<br />your fucking packets -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 4 (gibberish you can&#039;t understand, they don&#039;t match anything that has leave 1) &lt;- 5 &lt;- 6 &lt;- 7<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />You don&#039;t need to be able to understand it, you can correlate the stream based on interpacket timing characteristics. Tor is low latency it doesn&#039;t hide that pattern and it has been proven in so many different papers that I can give you a billion citations if you want. <br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">This is how Tor works, at each node the data is re-encrypted and changed, the headers are modified, the contents are modified, the size ain&#039;t the same anymore.</blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The size of the packets actually stay the same because Tor uses padding. Sizes staying the same is a good thing. However the size of the stream doesn&#039;t change. Also the interpacket arrival times don&#039;t change. <br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">You know that your theory was used several times by FBI to try to catch those pedo sites around, don&#039;t you? Or you think you&#039;re the fucking genius who saw the light alone?!</blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />It ain&#039;t my theory its an attack that some academics came up with. I doubt that FBI tried to use this attack to catch pedo sites simply cuz if they did they would have traced them all. Another possibility is that they have traced them all and wait for you to use a poisoned entry node to deanonymize you when you visit them. Another possibility is that they don&#039;t care because they already have their man power exhausted from following up on IP addresses detected trading CP on public P2P networks. e <br /><br />No I did not see the light alone but a shockingly large percentage of people seem to be incapable of understanding this attack (or anything else) even after they read the damn technical paper on it. I think anyone who downloaded that .pdf has seen the light, altho if they actually took anything from that encounter is a different question :P. <br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">Then you&#039;ve folks who add entropy to another network weakness by doing something somewhat unsafe at Tor but much unsafer at surfacewebs these days in some countries; download torrents. They generate a huge amount of traffic in the network that could otherwise be used to trace hidden services by traffic analysis.</blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Huh?<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">But still, even if Tor is safe by now, it doesn&#039;t mean in the future, near or distant, something may come up to make it unsafe, so keep using it as if it was compromised is a good way to go.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Yes it really is best to assume that Tor can be compromised. It is actually known that Tor can be compromised, but it is best to assume that the attacker who you worry about the most can pwn it.<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">- You&#039;ve convinced me that tor isn&#039;t as secure as everybody thinks.</blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Indeed most people think Tor is a lot more secure than it really is.<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">- I still think we&#039;ll see the hidden CP sites get busted first.</blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />I doubt they take the hidden CP sites down they will use them as honeypots first. <br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">I think the level of sophistication required to conduct the attacks you refer to is only possessed at an institutional level by agencies who only concern themselves with issues of national security.</blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />It really doesn&#039;t require much skill at all, you simply need to read a whitepaper and know how to work with a programming language, and have a spare node or two to add to the network. <br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">- I think the law enforcement is more concerned with funding and headlines than actually stopping clever people from buying drugs. They will continue to &quot;attack&quot; whoever is dumb enough to wave their dicks around and get caught. I would have to think (admittedly made up statistic to follow) that 90% of the busts that happen with regards to narcotics are from somebody getting busted and ratting somebody out. After that, 9% are from people who make stupid mistakes, and finally 1% are in the wrong place at the wrong time. When you have so many stupid drug dealers running around, it&#039;s hard to put in the effort to go after the really sophisticated ones.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />I don&#039;t think it is good to assume you are secure because nobody is there to attack you. LE job is bust people who buy and sell drugs. <br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">Just to address what I know your first response would be, is any of that worth risking your security on? And my response would be, where does the paranoia end? Nothing is secure. Nothing. Point at something and claim it&#039;s secure, and it&#039;s only a matter of time until you&#039;re wrong. So, all we can do is evaluate risk and reward, do our best to stay as safe as possible, and it never hurts to have a few people in your pocket :)</blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Yup yup. 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>lazyjunkie</strong> on <strong>March 03, 2012, 02:00 pm</strong>
			</dt>
			<dd class="postbody">
				Pissing contest aside, very interesting discussion guys. The thought and concern brought fourth is appreciated greatly.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>March 03, 2012, 02:49 pm</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=13462.msg135252#msg135252">Quote from: DaMan on March 03, 2012, 07:09 am</a></div></div><blockquote class="bbc_standard_quote">kmfkewm<br /><br />Let me point you your pointless fucking long trolling &quot;I&#039;m a noo...sorry... hacker&quot; article and the biggest misconception/flaws/sensationalism you put there: Did you ever took a look at a fucking onion?<br />Let&#039;s say your IP is 1 you own 4 which happens by chance to be the rendezvous and the server is 7, at each node your packet headers will be modified, creating a new layer, by encrypting the data inflates, so instead of:<br /><br />your fucking packets -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 4 (your fucking packets) &lt;- 5 &lt;- 6 &lt;- 7<br />you get:<br />your fucking packets -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 4 (gibberish you can&#039;t understand, they don&#039;t match anything that has leave 1) &lt;- 5 &lt;- 6 &lt;- 7<br /><br />This is how Tor works, at each node the data is re-encrypted and changed, the headers are modified, the contents are modified, the size ain&#039;t the same anymore.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />BTW Have you ever looked at what you are calling an onion? There are not 7 hops there are 6, and the client always selects the rendezvous which can be a node it owns.<br /><br />Client &lt;-&gt; Entry Guard &lt;-&gt;&nbsp; Middle Node &lt;-&gt; Rendezvous &lt;-&gt; Servers Final &lt;-&gt; Servers Middle &lt;-&gt; Servers Entry &lt;-&gt; Server<br /><br />The client can force the server to open circuits to as many rendezvous as it wants<br /><br />Server &lt;-&gt; Entry(a-c) &lt;-&gt; Middle1 &lt;-&gt; Final2 &lt;-&gt; Malicious RendezvousA<br />Server &lt;-&gt; Entry(a-c) &lt;-&gt; Middle3 &lt;-&gt; Final4 &lt;-&gt; Malicious RendezvousB<br />Server &lt;-&gt; Entry(a-c) &lt;-&gt; Middle5 &lt;-&gt; Final6 &lt;-&gt; Malicious RendezvousC<br />Server &lt;-&gt; Entry(a-c) &lt;-&gt; Middle7 &lt;-&gt; Final8 &lt;-&gt; Malicious RendezvousD<br />Server &lt;-&gt; Entry(a-c) &lt;-&gt; Middle9 &lt;-&gt; Final10 &lt;-&gt; Malicious RendezvousE<br />Server &lt;-&gt; Entry(a-c) &lt;-&gt; Middle11 &lt;-&gt; Final12 &lt;-&gt; Malicious RendezvousF<br />Server &lt;-&gt; Entry(a-c) &lt;-&gt; Middle13 &lt;-&gt; Final14 &lt;-&gt; Malicious RendezvousG<br /><br />etc<br /><br />If you own node # whatever (and even faster if you own multiple nodes) you are going to have the hidden service use it on one of the circuits it builds eventually. And you can force a hidden service to open and close as many circuits as you please, and send data for any of these circuits. I could have SR server open a thousand new circuits for me, that means it is going to have circuits leading to it with up to 2003 unique nodes being used (of course nodes can be re-used in different circuits, and probably will be, so it will not be that high most likely). And then I can send a little data through all of them, close all of them and then make it open a thousand new circuits. If SR stops opening circuits on demand it is DOSed, it can&#039;t tell my circuit creation request apart from anybody elses since we are all anonymous. And if it re-uses multiple circuits for multiple clients there will be serious linkability attacks to start worrying about. <br /><br />Each of these circuits use an entry node from the smaller selected pool of 1-3 guards, but the middle and final node are taken from the total selection available in the Tor network, and each circuit created uses different nodes selected from the total available consensus. An attacker who owns some of the nodes on the network is obviously going to own some of the nodes on a circuit to the hidden server after they force it to create an arbitrary number of circuits to rendezvous points.<br /><br />Now they send this pattern to the server via interpacket time delays<br /><br />O-----O--O------O-O-O----O--------O----------------O-O<br /><br />Even though O changes to P changes to J etc at each hop, the interpacket timing characteristics are not modified so the attacker can detect this stream of packets at any of their nodes they happen to pass through. They know they are either final, middle or entry. <br /><br />Server &lt;-&gt; Entry &lt;-&gt; Middle &lt;-&gt; Final &lt;-&gt; Malicious Rendezvous<br /><br />They can determine if the are final since they know the rendezvous IP address. <br /><br />They can determine if they are potentially middle if they get data from a Tor relay IP address and send data to a Tor relay IP address (although it is also possible that they are entry guard and the hidden service is a relay)<br /><br />They can determine if they are potentially entry if they send data to an IP address that isn&#039;t a public Tor relay (although they could also be middle and the hidden service uses a bridge for entry guard). If the hidden service uses a bridge for entry guard, it can be determined by trying to treat the identified non-Tor IP address as a bridge. If&nbsp; acts as a bridge, then it is the entry guard for the hidden service, if it does not then it is the hidden service and you are the entry guard.<br /><br />If you never send data to a non-Tor IP address from any of your nodes, that means the hidden service is not using a bridge and that one of the IP addresses you eventually send data to either belongs to the hidden service or to one of its entry guards. You could just do the attack for long enough and see if three distinct IP addresses stick out, if so they are the hidden services entry guards. If four IP addresses are identified three of them are the entry guards and one of them is the hidden service, but if this happens one of the identified entry guards should be one of your malicious Tor nodes so you will be able to deanonymize the server. Otherwise you have traced it to its entry nodes and now you just need to pwn one of them to deanonymize the server (again, the best route for this would be a trap and trace, as far as LE level attacker goes). 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>March 03, 2012, 08:13 pm</strong>
			</dt>
			<dd class="postbody">
				this time is really: tl;dr<br /><br />you don&#039;t get 0---0---0000---0 --&gt; node --&gt; 1---1---1111---1<br /><br />you get:<br /><br />0---0---0000---0 --&gt; node --&gt; -11-11--111111-111-1111---1<br /><br />this means: more data than what you sent, you can&#039;t create a TCP pattern because:<br /><br />1) Data inflates being encrypted<br />2) Other people is using those nodes<br /><br />And one thing you got wrong; Tor does NOT uses necessarily 3 + 3 hops.<br />Here: http://thesprawl.org/research/tor-control-protocol/<br />have a reading on how to change and control Tor circuits.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>March 03, 2012, 08:27 pm</strong>
			</dt>
			<dd class="postbody">
				Tor uses encryption mode that does not increase data size with encryption. No Tor can use up to 8 hops if you make changes to it, but it has limitation built into the network itself though preventing longer circuits. The pattern can be picked out even with others using the nodes. I don&#039;t waste any more time to argue with you about this, go do some research or keep living in your fantasy world makes no difference to me. I am fine knowing that all published research papers agree with what I say and your opinions come from some incorrect &#039;facts&#039; that you have made up in your own head. 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>March 03, 2012, 08:43 pm</strong>
			</dt>
			<dd class="postbody">
				The only encryption algo that doesn&#039;t change data size is xor&#039;ing. Don&#039;t tell me you think Tor XOR&#039;s data...<br /><br />Whatever, I&#039;m tired of your trolling and very long gibberish articles based on papers made by people that probably made SR ran out of MDMA stock. I&#039;ll leave you to troll alone.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>March 03, 2012, 09:07 pm</strong>
			</dt>
			<dd class="postbody">
				Tor uses AES in CTR mode, keystream blocks are XORed with the plaintext to get the resulting ciphertext. https://en.wikipedia.org/wiki/Keystream<br /><br />....so yes I guess I do think that Tor XOR&#039;s data????<br /><br /><br />Hm this paper looks interesting, from december 2011.<br /><br />http://freehaven.net/anonbib/cache/acsac11-backlit.pdf<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Traffic watermarking is an important element in many network se-&nbsp; &nbsp; &nbsp; &nbsp;<br />curity and privacy applications, such as tracing botnet C&amp;C com-&nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp;munications and deanonymizing peer-to-peer VoIP calls. The state-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />of-the-art traffic watermarking schemes are usually based on packet&nbsp; &nbsp;<br />timing information and they are notoriously difficult to detect. In&nbsp; &nbsp; &nbsp;<br />this paper, we show for the first time that even the most sophisti-&nbsp; &nbsp; &nbsp; <br />cated timing-based watermarking schemes (e.g., RAINBOW and&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />SWIRL) are not invisible by proposing a new detection system&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />called BACKLIT. BACKLIT is designed according to the obser-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />vation that any practical timing-based traffic watermark will cause&nbsp; &nbsp; &nbsp; <br />noticeable alterations in the intrinsic timing features typical of TCP <br />flows. We propose five metrics that are sufficient for detecting&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />four state-of-the-art traffic watermarks for bulk transfer and inter-&nbsp; <br />active traffic. BACKLIT can be easily deployed in stepping stones&nbsp; &nbsp; &nbsp; &nbsp;<br />and anonymity networks (e.g., Tor), because it does not rely on&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />strong assumptions and can be realized in an active or passive mod-&nbsp; &nbsp;<br />e. We have conducted extensive experiments to evaluate BACK-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />LIT’s detection performance using the PlanetLab platform. The&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />results show that BACKLIT can detect watermarked network flows&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />schemes, such as RAINBOW and SWIRL with high accuracy and few false positives.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </blockquote><div class="quotefooter"><div class="botslice_quote"></div></div>
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>DaMan</strong> on <strong>March 04, 2012, 02:47 am</strong>
			</dt>
			<dd class="postbody">
				CTR mode:<br /><br />https://en.wikipedia.org/wiki/Block_cipher_modes_of_operation#Counter_.28CTR.29<br /><br />There you go, it adds a counter to each block, the counter is added data (not existing within the initial packet) so the packet inflates or, if full, generates more packets. It&#039;s not a huge inflation, a few bytes only, but enough for any pattern-looking system to fail.<br /><br />Now, that new analysis, yes, is a concern to Tor, specially if ISP&#039;s start to do it. Currently ISP&#039;s already hook you into some SNMP traps and thus can&#039;t read through Tor data, can know you&#039;re using Tor for... something.<br />A good cloak would be to set up a bridge relay along with the HS, it may give the idea to someone attacking the network that you&#039;re a relay and not the HS... or make him jump to conclusions and assumptions faster.<br /><br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: WTF is wrong with SR?</strong><br />
				Post by: <strong>kmfkewm</strong> on <strong>March 04, 2012, 12:08 pm</strong>
			</dt>
			<dd class="postbody">
				The &#039;new analysis&#039; is a technique for detecting packet streams that have had interpacket timing patterns intentionally added....not really a worry for Tor. The counter is XORed with the keystream block, and then the result of that is XORed with the plaintext to get the ciphertext, so there is no increase in size. <br /><br />You really are either entirely clueless and refuse to admit you are wrong (so many people like this!) or you are a troll.....
			</dd>
		</dl>
		<div id="footer" class="smalltext">
			
			<span class="smalltext" style="display: inline; visibility: visible; font-family: Verdana, Arial, sans-serif;"><a href="http://dkn255hz262ypmii.onion/index.php?action=credits" title="Simple Machines Forum" target="_blank" class="new_win">SMF 2.0.5</a> |
 <a href="http://www.simplemachines.org/about/smf/license.php" title="License" target="_blank" class="new_win">SMF &copy; 2013</a>, <a href="http://www.simplemachines.org" title="Simple Machines" target="_blank" class="new_win">Simple Machines</a>
			</span>
		</div>
	</body>
</html>