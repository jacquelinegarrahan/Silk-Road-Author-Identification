<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="robots" content="noindex" />
		<link rel="canonical" href="http://dkn255hz262ypmii.onion/index.php?topic=29235.0" />
		<title>Print Page - GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</title>
		<style type="text/css">
			body, a
			{
				color: #000;
				background: #fff;
			}
			body, td, .normaltext
			{
				font-family: Verdana, arial, helvetica, serif;
				font-size: small;
			}
			h1#title
			{
				font-size: large;
				font-weight: bold;
			}
			h2#linktree
			{
				margin: 1em 0 2.5em 0;
				font-size: small;
				font-weight: bold;
			}
			dl#posts
			{
				width: 90%;
				margin: 0;
				padding: 0;
				list-style: none;
			}
			dt.postheader
			{
				border: solid #000;
				border-width: 1px 0;
				padding: 4px 0;
			}
			dd.postbody
			{
				margin: 1em 0 2em 2em;
			}
			table
			{
				empty-cells: show;
			}
			blockquote, code
			{
				border: 1px solid #000;
				margin: 3px;
				padding: 1px;
				display: block;
			}
			code
			{
				font: x-small monospace;
			}
			blockquote
			{
				font-size: x-small;
			}
			.smalltext, .quoteheader, .codeheader
			{
				font-size: x-small;
			}
			.largetext
			{
				font-size: large;
			}
			.centertext
			{
				text-align: center;
			}
			hr
			{
				height: 1px;
				border: 0;
				color: black;
				background-color: black;
			}
		</style>
	</head>
	<body>
		<h1 id="title">Silk Road forums</h1>
		<h2 id="linktree">Discussion => Security => Topic started by: LouisCyphre on July 03, 2012, 03:52 pm</h2>
		<dl id="posts">
			<dt class="postheader">
				Title: <strong>GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>LouisCyphre</strong> on <strong>July 03, 2012, 03:52 pm</strong>
			</dt>
			<dd class="postbody">
				Recently there have been a couple of threads started by people concerned that if they encrypt something to a vendor, like their address in an order, there is the risk that the encrypted file might be used against a buyer if LE manages to get the message.&nbsp; This is a brief explanation of how to encrypt a message that cannot be checked to see who it is encrypted to.<br /><br />For this demonstration I&#039;m going to need a volunteer from the audience.&nbsp; So a big thankyou to Guru who just got volunteered.&nbsp; ;)<br /><br />Firstly there&#039;s the address I&#039;m encrypting to Guru in the file address.txt:<br /><br />Mr. L. Cyphre<br />666 Hell&#039;s Highway<br />9th Circle<br />Hades<br /><br />Secondly my configuration is set to use my key (0xDD7B4576) as the default key, which is always encrypted to.&nbsp; And thirdly I have Guru&#039;s key (0x886855CA) for our demonstration recipient.&nbsp; I&#039;m also using the verbose flag (&quot;-v&quot;) so you can see exactly what happens.<br /><br />To encrypt the above address normally the command would be:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -v -ea -r 886855CA address.txt <br />gpg: using subkey D677EF45 instead of primary key DD7B4576<br />gpg: using subkey 048FB30D instead of primary key 886855CA<br />gpg: No trust check due to `--trust-model always&#039; option<br />gpg: reading from `address.txt&#039;<br />gpg: writing to `address.txt.asc&#039;<br />gpg: RSA/AES256 encrypted for: &quot;048FB30D Guru &lt;Guru@SR&gt;&quot;<br />gpg: ELG-E/AES256 encrypted for: &quot;D677EF45 Louis Cyphre &lt;lcyphre@tormail.org&gt;&quot;<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Which results in this:<br /><br /><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code">-----BEGIN PGP MESSAGE-----<br /><br />hQIMA/+VT6MEj7MNAQ/9GFt/J9yTRQ6xBzNFnZi1CSjGmqGlj0kpuBOzJ2F7NihY<br />IBSm96UkAgatnDE5IzHdljn5iyOa57n72Sgx4qxDugaZj4vjEN7d2/19rtJwHFAx<br />sd5zz/NTCKU4g3ziAFL+MWXaq/CXf/YOd8h4VleL9HfkliypvzQ4gElTPLokHZiO<br />Y2Hy+KAv/92HnjaV25Gorm6vhHg7wmW3cSAfIQLSXIbGBwQu5JweDMDxYubYDpeX<br />9YAqTqtOADe1nemN5VOiGtztDPguHczsO2DjiG0CaSOUn1RFvb6QOAngGn8sB+Mp<br />whm5Z4GUHpxvD7qDD4GObjJ3H+iKeaYg5Jon6eMk3QvkS3gO8tTPNXx8W8GgSCZH<br />OnxCTmcORw6FSssljwl3VFhnRKh0vSoQLGqjNZB77tc+/S/dfc+Iobhvv6IvHQpq<br />CgzP+DmM5yj15LarEJmmXpCG+ZZBJ1L7eI9W1TSEDId04eHDn1OXe/RGUF1uUd23<br />hHYySrPgtNM0r2UDCrQSxQU7O06Wi3Yb9KlBNcC7VOxiIauETykWCUaAJBTHRnRs<br />ZFnDlPOEdZpmvnE+ny9Hgl4eKf9RJpjSNWUuyBHR+GTd5qJpejyP+YRHSXuLLP8/<br />BduW8d85T5qTGxPKnYymg/apH4stnc+qKhJYPqWPKPTltvaoyUHaSx0k8jsYE6mF<br />BA4DAKz20tZ370UQEADbaOWfBeIrkb2wGrAaN/NNGO1LDjgmvyUWJiT99ha3hxIv<br />mSkJp42llvdAxwzDR8b5VyjDTbjLXaxkiWPzhkHzMQJzJpL/PsDXlXxsEOOnAcNk<br />DZsKm1EWflzHS9LnSHaEUCx+6IzUF4VFQH/TFAzH0RDTnphGJKll6JuNpQNMWt2w<br />SNQacCDevdX6lDUJHHUY1wIICavEMWWY90MYUqv4wsWP5dw0wDwtJzvU1CoCgqgq<br />1gF7gTyZBL4mi+Dn4/x+szAws/YFvHh7fyJ+vzIBdoFCM9UjocUXhOLLE7mYD3/5<br />Oky8mNBzELrXVGf7pvWJ5I/DD5ZjU3ov/XkD/w4dwePIVdO232ka9lISAAp5rjBM<br />5F7okubR7Oo3JBrkL8cO4M3azC4audcotzk4sSMQFCKGkbP+055wO4n5UPxs1ubA<br />12UvRtlvfv5rA98kIEhUyxyu8BovuwpUbtYHiVy5JhFKxZ5J4q5w2pd9uR7X/i3N<br />UPWsYTwAVXERfq1iuBnFw8R2d1YWmXTTY1WVJVwHNzsH2whmi5bUbyBZEdtHdUhX<br />B3S0/4VACvXFLsSK3iz8+XN5bKqlldfzxcosevvi9xlRcjbsGCRy3QFAn8wpSJKv<br />hFDLq0NmVBNuxXLjB5/OtJhP0FtM96gHH49VeLHZHAWadrtMnJz2OT4zDAZpKA/9<br />GV3BATtOWwtJMVCt9dTLbyuaGZlRNgRPRJXEOwy9ER9t4vT00pwi7Mf//o96Nsik<br />VHNDqkr/82FUVwSKoPWkFMnqIDSuivIdGojgOzr/v3sH02VBRKEB4PMpDXfIkyLi<br />UgiQblZo+atRSxw4Vvv0AD/H8JCmGbyWXRl8tqFTlY24XIuLLEZzHSsicIL5t0PZ<br />xeCuUA+YDGe5y/3duJpHUgExvtxcadAd+caNEwn9UE38L7rYbFoLl4gr6TYkJKLC<br />4EuJeJVjFjxAx/eWeU9GPneXa3hz2ZBpmzQ9nnGLNMBFV0mu6StdFxSQTwDeSDMs<br />R1UmBgwAp8WQ01qpviZGehJtPJ46Yf8ODHn/nH3ecL3OJrXrbSyqvVjO15FWHa72<br />FnAMlnYeTtE6FGghly7F1eUQZRUKJhS96pvyR5ui0wJpYSca+FmbIdvx+Nwoz/R0<br />Keyg2661o9how9Wi03DUPZANTi//dOlQdOPnu2ebPhLIyBjCc1U6goSPB+xQ9vtf<br />sKv/PyRV+1U+UjTiDUcnkkFS1s2rpzoAGzCXyXBm2O9mNrbRA/MztY96KHEqNpUr<br />ndmRZUt2k40TN35bVWD4fXUj0XaRkT5/dUKzzjrRrUssfpaHGK7iMCPLX+8aezQm<br />4mrimcUXIjB6YtsqmgFD/sxqYPHNY5HzjhOpIIX+pg/SeAGJOGhID/58497jEcqe<br />ax/DYDV2hgd18Ef7SzlKtTUP3K7ljLLSocNYWeyTQLlz4R1o3QlPFBwDh3BaIn7a<br />fB6Oe6+U8c84SqRAKbmVIKWniHqDZTxKhOM9Zr5xmCm+7xRsNMJwa9b0/28MD6CC<br />3xFAPV1Y3mrioQ==<br />=0TN2<br />-----END PGP MESSAGE-----<br /></code><br />Now only Guru and I can decrypt that, but anyone else running it through gpg (with the &quot;gpg -v&quot; option) will see that the message is encrypted to Guru&#039;s key and mine.&nbsp; If they have either of our keys in their public keyring then they will see that data matched.<br /><br />When I decrypt the file I am, of course, prompted for my passphrase and with the verbose flag I can see all the keys the message is encrypted to:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -v address.txt.asc <br />gpg: public key is 048FB30D<br />gpg: public key is D677EF45<br />gpg: using subkey D677EF45 instead of primary key DD7B4576<br /><br />You need a passphrase to unlock the secret key for<br />user: &quot;Louis Cyphre &lt;lcyphre@tormail.org&gt;&quot;<br />gpg: using subkey D677EF45 instead of primary key DD7B4576<br />4096-bit ELG-E key, ID D677EF45, created 2012-06-16 (main key ID DD7B4576)<br /><br />gpg: using subkey 048FB30D instead of primary key 886855CA<br />gpg: encrypted with 4096-bit RSA key, ID 048FB30D, created 2012-05-11<br />&nbsp; &nbsp; &nbsp; &quot;Guru &lt;Guru@SR&gt;&quot;<br />gpg: encrypted with 4096-bit ELG-E key, ID D677EF45, created 2012-06-16<br />&nbsp; &nbsp; &nbsp; &quot;Louis Cyphre &lt;lcyphre@tormail.org&gt;&quot;<br />gpg: AES256 encrypted data<br />gpg: original file name=&#039;address.txt&#039;<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Now, since I don&#039;t want anyone who manages to obtain this message to even know who it is encrypted to, there is an option to conceal that data.&nbsp; That option is the &quot;throw-key&quot; option.<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -v -ea --throw-keyid -r 886855CA address.txt <br />gpg: using subkey D677EF45 instead of primary key DD7B4576<br />gpg: using subkey 048FB30D instead of primary key 886855CA<br />gpg: No trust check due to `--trust-model always&#039; option<br />gpg: reading from `address.txt&#039;<br />gpg: writing to `address.txt.asc&#039;<br />gpg: RSA/AES256 encrypted for: &quot;048FB30D Guru &lt;Guru@SR&gt;&quot;<br />gpg: ELG-E/AES256 encrypted for: &quot;D677EF45 Louis Cyphre &lt;lcyphre@tormail.org&gt;&quot;<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The encrypting process appears the same, which is as it should be.&nbsp; The output, however, is not:<br /><br /><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code">-----BEGIN PGP MESSAGE-----<br /><br />hQIMAwAAAAAAAAAAAQ//S6ugUxPasaLRcQoo8MKq6q+30upiQAa+yLCmUj64CYGj<br />sxnmu3qGMYBToDIJpv5/T4ufpoB2MTROh9Z/MNISKHXiuKVrBWymWMCvNO3c57bO<br />nUfyabhCAkM8K7iHwJSEhLLLl7ACL3DdBWFkirMCRRLKTPr1HqHuGY2iddY53ioe<br />WGb2jn7Sjwu8zUM9tNK+0/2k1ViuCc7CkJJA8hqixXZi07FMK+M2++kGoB76AoFR<br />amKHKsKR8ddLrZwGJERUELsPxC4SI98GRrF/DlQO/Mfd088O1gl/Q+RArHgEdJnc<br />wWoVQDC0SH8NpjIGgf50pgd4oNBZEORZfEsx03TJgh8CFD+0W064vdmcNcMarz0G<br />BcB9ycY/CoFujrHXD9NovGnH6oTCyqUhoe3TMZ4bO0MQAjbbo4iBuBqxD3C/THSw<br />/SYxlqSpJV9OTsqS9n60ERcc1SAZG+O1SwlGUilYYWIqI029ba71zvmGE3WxRk2J<br />HIsagTfote6sLN8ii1eSFidQI9MCDjRGVY1vRx1GEd+Wj8KNq/1Mlp5V5S6N6BNq<br />93Y7HOl04Axx+IUdM7PbJM4lrieHkIocAEq9s8Z467yuJba0Vo65qRD5PxE2n1X4<br />uibycdmCW0ZsuvL+Mf5CMYDngYG3idgvvs7jYIPbFI/3Ane0qS5MhApbYdrI9VyF<br />BA4DAAAAAAAAAAAQEAC1ChaYQ8Ev+KxX2SrV7k8wlHVCinrj2Ta7hYuDTLbniQia<br />lOwOoq0sdfjBtPqN6jKGe5I/2pNHoOYg2jiuqX8MkUCfX78244JKWzvzUFSzfYbf<br />mWulHZZadTmvIe261AnbQeCi3Jx6kHBExhnB+5T0QGNbe5npq7OA/6eNB8JEIfJb<br />je8sUmjfoXanZAyVJW/8Ea145C/xW5Yj7S+4nhvEHG2GPUDS+ZLOPF+i/EyKnpdt<br />mJUkjdQ38LVJieQuhfK4EF2Xn+aZlrw7DWCLUP0jNF6WfdHDbsYT4PZIJG9yJyVC<br />fsVqoaKVR/vrL2mHDL0hatQnwiZwUKzhp89xlrpOFnKvqLCma0wjTR7jHg6b6EjM<br />3cYVgg7IfN9fhPO9Ll4pdhGpdetMuK7sWKZJB4MvnM2/kaB1unuCGViNt5A7SAz3<br />R0IJYdf+x86t3vPJhs4TInMKOnIx9VufZBvP7AAVxQbHm7NCDMA0dyByE5koHYJC<br />F7vHWisltqAGz04lbgbMQogiF0cYAlKqHlYHAEzc1+k+4TIH8zNt29tvj8Ze+810<br />Ie460Ucs5hXS09OXUyxa7Bqk2lLbRfx5JBG4FQQl1cmxdBjRsJHefeYxXf7JA5eT<br />/LKCI17hrv3qF+ZeL+YQeVXbIwUdg/14/itDedBxEQSzhlQymB2EzLpUSFAMXxAA<br />uTUJPsmVJvza52STtscCkx9DzjE3oYeE2PqR5f0PKU7BTg+WTr15HsPtyahn6Uen<br />F3pw7qKqxEcv5Z+WEXyCnk6TBnLzt0l8picB1InF0CHZlqprIspcu4UCOQgdljje<br />Z+ZH+iSK4/hwgl0UPt8qi9dhTcpL51KhWJM3AyutaVeRkFJTD5aPRHbM5t5MVwbO<br />1wOkoTB9ffvMPUQhgQwbJAOADd5AVdBfGLH+a8g5f9FeQgFN3FSDYtQoTsg+484b<br />E6z0D3YJE65xiBLzVbXLBBq030vJMz1gc88NzBMWQVvi7SlRlA1G8Fy9at2t6Oxb<br />LmEXaD8iCqs3chh0OQL0tgnE0U9ATVY4T/uMZgPRk4x8Uq6QoA5ecxWmKw58XJyt<br />5KmusWJJpoT2K7QJXdzKe9ieilopE8V2AKibzsfdaMls7RlJnf4Rgp/NApajydh3<br />dxBeR03i98LyDL7Teuj/pejijZq8XMidXbhsrpcCWjxGtBQkx9z/zQoVBwWWnt2y<br />ouE6dZz4kNpBI863jUQu079jTl2X4Znj/C4seTsFwg/+OKMqTcf0m4Sus0u5SGkB<br />KTzlPx1sHukbRxbGGycQ5PJOiPjnIwwvaAVbRTfS+2YRN1Raa+dVGxRNKm0g5R5q<br />7SIDREeLMcntYU/Q2lZnThAip9aHv6OjjO4bOf5RkErSeAHS5pfBRfEUnDD2J3hS<br />qS9zzd4QeSM4s1QTgVKUWl/+sgiP+BOQBcHbfqBD5YhggB4+ZjnhGYcFeHPAQWPT<br />dTlf7ZgIEEyRJgFscvldFx9QaVwT1HIj41xMVQs6RBuKbc3hFHiuTZr+eul5+1GM<br />ggf6FoVTCV2ivQ==<br />=0Wvt<br />-----END PGP MESSAGE-----<br /></code><br />This shows clearly when the message is decrypted or a decryption attempt is made:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -v address.txt.asc <br />gpg: public key is 00000000<br />gpg: anonymous recipient; trying secret key DD7B4576 ...<br />gpg: anonymous recipient; trying secret key 195D71B8 ...<br />gpg: public key is 00000000<br />gpg: anonymous recipient; trying secret key D677EF45 ...<br />gpg: okay, we are the anonymous recipient.<br />gpg: encrypted with RSA key, ID 00000000<br />gpg: encrypted with ELG-E key, ID 00000000<br />gpg: AES256 encrypted data<br />gpg: original file name=&#039;address.txt&#039;<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The file is decrypted, but we cannot see who the recipients are.&nbsp; Only that there were two recipients, one with an RSA key and one with an Elgamal key (Guru&#039;s and mine, respectively).<br /><br />The description of the &quot;throw-key&quot; option in the GPG manual describes exactly what is happening here, why it may be advantageous to use it sometimes and what the major drawback is:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">Do not put the keyid into encrypted packets. This option hides the receiver of the message and is a countermeasure against traffic analysis. It may slow down the decryption process because all available secret keys are tried.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />When decrypting a message which has been encrypted with &quot;throw-key&quot; GPG will try every secret key in the secret keyring in sequence until either a match is found or all keys have been tried.<br /><br />NOTE: People with lots of secret keys will find this very annoying if it is used too much.&nbsp; Silk Road, however, is a fine example of where using the option may be of real benefit with some messages.<br /><br />I recommend everyone attempt to decrypt the two messages above, regardless of whether or not you&#039;ve got my key or Guru&#039;s key in your public keyrings.&nbsp; Compare the output GPG generates and remember, if it were LE doing this they would not even be able to determine the recipients of the second cipher block.<br /><br />When encrypting an address to include in an order, I recommend combining this with the &quot;for-your-eyes-only&quot; option:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">gpg -ea --throw-keyid --for-your-eyes-only -r $RECIPIENT_1 -r $RECIPIENT_2 address.txt <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Now you can encrypt your address to a vendor in the order, but be sure that the information relating to that order cannot be used against you via traffic analysis.<br /><br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>tootiefruitie</strong> on <strong>July 03, 2012, 05:00 pm</strong>
			</dt>
			<dd class="postbody">
				what does the &quot;for-your-eyes-only&quot; option do exactly?
			</dd>
			<dt class="postheader">
				Title: <strong>Re: GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>tizzy</strong> on <strong>July 03, 2012, 09:12 pm</strong>
			</dt>
			<dd class="postbody">
				what is the best PG encryption windows program?&nbsp; Right now I am using GNU Privacy Assistant-GPA.&nbsp; &nbsp;GPA crashes ALOT!&nbsp; Is this one sufficient or is there something better I could be using? 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>LouisCyphre</strong> on <strong>July 04, 2012, 02:33 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=29235.msg322955#msg322955">Quote from: Shannon on July 03, 2012, 04:25 pm</a></div></div><blockquote class="bbc_standard_quote">many guis will shit bricks when trying to decrypt a message using --throw-keyids, especially if the target key isn&#039;t the first one<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Even when there&#039;s only one or two secret keys in the keyring?<br /><br />I&#039;ll admit that I normally hate it with my regular config, because I&#039;ve got a lot of keys for it to cycle through all with different passphrases and if I forget one of the old ones it&#039;s a real pain.<br /><br />Or is the issue specific to the GUIs being used?&nbsp; I&#039;ve no doubt that my method of using GPG here differs from most.<br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>LouisCyphre</strong> on <strong>July 04, 2012, 02:44 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=29235.msg323450#msg323450">Quote from: tizzy on July 03, 2012, 09:12 pm</a></div></div><blockquote class="bbc_standard_quote">what is the best PG encryption windows program?&nbsp; Right now I am using GNU Privacy Assistant-GPA.&nbsp; &nbsp;GPA crashes ALOT!&nbsp; Is this one sufficient or is there something better I could be using?<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />I&#039;ve heard from a number of people that GnuPG Shell, an alternative frontend, is very good:<br /><br />http://www.tech-faq.com/gnupg-shell.html<br /><br />I haven&#039;t used it myself, though.<br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>randomOVDB#2</strong> on <strong>July 06, 2012, 07:24 pm</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=29235.msg322885#msg322885">Quote from: LouisCyphre on July 03, 2012, 03:52 pm</a></div></div><blockquote class="bbc_standard_quote">Recently there have been a couple of threads started by people concerned that if they encrypt something to a vendor, like their address in an order, there is the risk that the encrypted file might be used against a buyer if LE manages to get the message.&nbsp; This is a brief explanation of how to encrypt a message that cannot be checked to see who it is encrypted to.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />GUI alternative is adding &quot;no-throw-keyids&quot; to gpg.conf, correct ?<br /><br />Can you post &quot;-v&quot; output of the first message (hQIMA/+...) before decrypting. Mine seems a bit poor, lacking your nick.<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">gpg: public key is 048FB30D<br />gpg: public key is D677EF45<br />gpg: encrypted with ELG key, ID D677EF45<br />gpg: using subkey 048FB30D instead of primary key 886855CA<br />gpg: encrypted with 4096-bit RSA key, ID 048FB30D, created 2012-05-11<br />&nbsp; &nbsp; &nbsp; &quot;Guru &lt;Guru@SR&gt;&quot;<br />gpg: decryption failed: No secret key<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br /><div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=29235.msg323450#msg323450">Quote from: tizzy on July 03, 2012, 09:12 pm</a></div></div><blockquote class="bbc_standard_quote">what is the best PG encryption windows program?&nbsp; Right now I am using GNU Privacy Assistant-GPA.&nbsp; &nbsp;GPA crashes ALOT!&nbsp; Is this one sufficient or is there something better I could be using?<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />WinPT<br />GPG4USB<br />Cryptophane
			</dd>
			<dt class="postheader">
				Title: <strong>Re: GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>LouisCyphre</strong> on <strong>July 09, 2012, 09:38 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=29235.msg328841#msg328841">Quote from: randomOVDB#2 on July 06, 2012, 07:24 pm</a></div></div><blockquote class="bbc_standard_quote">GUI alternative is adding &quot;no-throw-keyids&quot; to gpg.conf, correct ?<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />No, the &quot;no-throw-keyid&quot; (or &quot;no-throw-keyids&quot;) option is used to disable the &quot;throw-keyid&quot; (or &quot;throw-keyids&quot;) option.&nbsp; By default &quot;throw-keyid&quot; is disabled, but if it is added to the gpg.conf then &quot;--no-throw-keyid&quot; can be used on the command line to override it.<br /><br />The entry from the manual (http://www.gnupg.org/documentation/manuals/gnupg/GPG-Esoteric-Options.html) is here:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">--throw-keyids<br />--no-throw-keyids<br />&nbsp; Do not put the recipient key IDs into encrypted messages. This helps to hide the receivers of the message and is a limited countermeasure against traffic analysis.1 On the receiving side, it may slow down the decryption process because all available secret keys must be tried. --no-throw-keyids disables this option. This option is essentially the same as using --hidden-recipient for all recipients.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The footnote says:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">[1] Using a little social engineering anyone who is able to decrypt the message can check whether one of the other recipients is the one he suspects.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Social engineering might be a little more difficult on SR, though, especially when it comes to obtaining the specifics of an order from a buyer or vendor.<br /><br /><div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=29235.msg328841#msg328841">Quote from: randomOVDB#2 on July 06, 2012, 07:24 pm</a></div></div><blockquote class="bbc_standard_quote">Can you post &quot;-v&quot; output of the first message (hQIMA/+...) before decrypting. Mine seems a bit poor, lacking your nick.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />I did, it was this bit:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -v address.txt.asc<br />gpg: public key is 048FB30D<br />gpg: public key is D677EF45<br />gpg: using subkey D677EF45 instead of primary key DD7B4576<br /><br />You need a passphrase to unlock the secret key for<br />user: &quot;Louis Cyphre &lt;lcyphre@tormail.org&gt;&quot;<br />gpg: using subkey D677EF45 instead of primary key DD7B4576<br />4096-bit ELG-E key, ID D677EF45, created 2012-06-16 (main key ID DD7B4576)<br /><br />gpg: using subkey 048FB30D instead of primary key 886855CA<br />gpg: encrypted with 4096-bit RSA key, ID 048FB30D, created 2012-05-11<br />&nbsp; &nbsp; &nbsp; &quot;Guru &lt;Guru@SR&gt;&quot;<br />gpg: encrypted with 4096-bit ELG-E key, ID D677EF45, created 2012-06-16<br />&nbsp; &nbsp; &nbsp; &quot;Louis Cyphre &lt;lcyphre@tormail.org&gt;&quot;<br />gpg: AES256 encrypted data<br />gpg: original file name=&#039;address.txt&#039;<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Note, the &quot;-v&quot; flag can be added to any GPG operation to get more detail of whatever it is doing.<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">gpg: public key is 048FB30D<br />gpg: public key is D677EF45<br />gpg: encrypted with ELG key, ID D677EF45<br />gpg: using subkey 048FB30D instead of primary key 886855CA<br />gpg: encrypted with 4096-bit RSA key, ID 048FB30D, created 2012-05-11<br />&nbsp; &nbsp; &nbsp; &quot;Guru &lt;Guru@SR&gt;&quot;<br />gpg: decryption failed: No secret key<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />That shows that you&#039;ve got Guru&#039;s key in your public keyring, but not mine.&nbsp; So you can see at least one of the parties a message is encrypted to, even if you can&#039;t see the content of the message.<br /><br />If you import my key to your keyring then the output of attempting to decrypt that first cipher block would look similar (deryption would still fail because you don&#039;t have the secret key), but GPG would identify both recipients.<br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>LouisCyphre</strong> on <strong>August 09, 2012, 09:53 pm</strong>
			</dt>
			<dd class="postbody">
				ADDENDUM<br /><br />As explained in this post: http://dkn255hz262ypmii.onion/index.php?topic=33621.msg398864#msg398864<br /><br />Hiding the recipients of a message will prevent mass decryption of files using the --allow-multiple-messages option.&nbsp; Users needing to decrypt multiple messages simultaneously should NOT hide recipients and, more importantly, tell their correspondents not to do so either.<br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>LouisCyphre</strong> on <strong>August 10, 2012, 12:57 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=29235.msg399333#msg399333">Quote from: Guru on August 10, 2012, 12:04 am</a></div></div><blockquote class="bbc_standard_quote"><div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=29235.msg322885#msg322885">Quote from: LouisCyphre on July 03, 2012, 03:52 pm</a></div></div><blockquote class="bbc_alternate_quote">Recently there have been a couple of threads started by people concerned that if they encrypt something to a vendor, like their address in an order, there is the risk that the encrypted file might be used against a buyer if LE manages to get the message.&nbsp; This is a brief explanation of how to encrypt a message that cannot be checked to see who it is encrypted to. </blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Excellent post, Louis.&nbsp; <br /><br />However, one risk that you haven&#039;t addressed arises because of the way PGP/GPG works. I&#039;m referring to the fact that, in order to encrypt to someone&#039;s key, that key has to reside on the sender&#039;s PGP/GPG keyring.&nbsp; While the existence of particular keys on a person&#039;s keyring does not prove anything, in and of itself, it nevertheless provides evidence of possible contact between individuals. <br /><br />Traffic analysis of intercepted messages, based on PGP/GPG Key-IDs: is a minor risk, and as you correctly pointed out, can be avoided through the --throw-key-ids directive. <br /><br />In my view a much larger risk potentially arises from insecure storage of PGP/GPG keyrings on the part of vendors. If a vendor is raided, and his or her keyrings are not securely stored, then the authorities, by merely listing all the keys in the vendor&#039;s public keyring, can obtain a list of whom he or she has potentially been communicating with.&nbsp; &nbsp;Vendors therefore need to take appropriate precautions to secure their keyrings from exposure. <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />I agree.&nbsp; We should all be storing our GPG home directories (containing keyrings and config) in an encrypted volume of some kind.&nbsp; Vendors especially need to do this, of course.<br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>pine</strong> on <strong>August 10, 2012, 03:03 am</strong>
			</dt>
			<dd class="postbody">
				New working hypothesis: Guru &amp; Louis (fiends!) are plotting to break poor pine&#039;s printer :P :D<br /><br />A good few trees have been murdered anyhow!
			</dd>
			<dt class="postheader">
				Title: <strong>Re: GPG HOWTO: Encrypting to yourself and a vendor, but concealing all recipients</strong><br />
				Post by: <strong>LouisCyphre</strong> on <strong>August 10, 2012, 03:14 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=29235.msg399647#msg399647">Quote from: pine on August 10, 2012, 03:03 am</a></div></div><blockquote class="bbc_standard_quote">New working hypothesis: Guru &amp; Louis (fiends!) are plotting to break poor pine&#039;s printer :P :D<br /><br />A good few trees have been murdered anyhow!<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Ah, you&#039;re on to our cunning plan!&nbsp; ;)<br />
			</dd>
		</dl>
		<div id="footer" class="smalltext">
			
			<span class="smalltext" style="display: inline; visibility: visible; font-family: Verdana, Arial, sans-serif;"><a href="http://dkn255hz262ypmii.onion/index.php?action=credits" title="Simple Machines Forum" target="_blank" class="new_win">SMF 2.0.5</a> |
 <a href="http://www.simplemachines.org/about/smf/license.php" title="License" target="_blank" class="new_win">SMF &copy; 2013</a>, <a href="http://www.simplemachines.org" title="Simple Machines" target="_blank" class="new_win">Simple Machines</a>
			</span>
		</div>
	</body>
</html>