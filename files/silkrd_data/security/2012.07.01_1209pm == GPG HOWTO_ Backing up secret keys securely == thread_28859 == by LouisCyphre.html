<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="robots" content="noindex" />
		<link rel="canonical" href="http://dkn255hz262ypmii.onion/index.php?topic=28859.0" />
		<title>Print Page - GPG HOWTO: Backing up secret keys securely</title>
		<style type="text/css">
			body, a
			{
				color: #000;
				background: #fff;
			}
			body, td, .normaltext
			{
				font-family: Verdana, arial, helvetica, serif;
				font-size: small;
			}
			h1#title
			{
				font-size: large;
				font-weight: bold;
			}
			h2#linktree
			{
				margin: 1em 0 2.5em 0;
				font-size: small;
				font-weight: bold;
			}
			dl#posts
			{
				width: 90%;
				margin: 0;
				padding: 0;
				list-style: none;
			}
			dt.postheader
			{
				border: solid #000;
				border-width: 1px 0;
				padding: 4px 0;
			}
			dd.postbody
			{
				margin: 1em 0 2em 2em;
			}
			table
			{
				empty-cells: show;
			}
			blockquote, code
			{
				border: 1px solid #000;
				margin: 3px;
				padding: 1px;
				display: block;
			}
			code
			{
				font: x-small monospace;
			}
			blockquote
			{
				font-size: x-small;
			}
			.smalltext, .quoteheader, .codeheader
			{
				font-size: x-small;
			}
			.largetext
			{
				font-size: large;
			}
			.centertext
			{
				text-align: center;
			}
			hr
			{
				height: 1px;
				border: 0;
				color: black;
				background-color: black;
			}
		</style>
	</head>
	<body>
		<h1 id="title">Silk Road forums</h1>
		<h2 id="linktree">Discussion => Security => Topic started by: LouisCyphre on July 01, 2012, 12:09 pm</h2>
		<dl id="posts">
			<dt class="postheader">
				Title: <strong>GPG HOWTO: Backing up secret keys securely</strong><br />
				Post by: <strong>LouisCyphre</strong> on <strong>July 01, 2012, 12:09 pm</strong>
			</dt>
			<dd class="postbody">
				This document describes how to properly backup any GPG secret key.&nbsp; This should be performed immediately after making any new key, such as described in this post:<br /><br />http://dkn255hz262ypmii.onion/index.php?topic=28474.0<br /><br />As with the instructions in that post, this document assumes that you are using GPG and accessing it via a *nix command line.&nbsp; These instructions should work with both GPG 1.4.x and GPG 2.0.x, but the examples were created with GPG 1.4.12.<br /><br />It is strongly advised that this process be performed in an encrypted volume and that all digital storage methods used to hold the secret key backup also be encrypted (e.g. USB sticks, backup drives, etc.).&nbsp; The secret key will still be protected by the passphrase and stored in an encrypted form, but additional encryption for the backup devices increases the level of security for information which absolutely must be protected.<br /><br />Since I deleted the test key I created for that document, I have created a new key for this example.&nbsp; The details of this key are similar to, but not quite the same as the first example:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -k --fingerprint FD868CB5<br />pub&nbsp; &nbsp;4096R/FD868CB5 2012-07-01<br />&nbsp; &nbsp; &nbsp; Key fingerprint = 7487 95A6 29A5 C59B FF75&nbsp; A490 B5A6 614E FD86 8CB5<br />uid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br />sub&nbsp; &nbsp;2048R/506A0834 2012-07-01<br />sub&nbsp; &nbsp;4096g/3646D905 2012-07-01<br /><br />bash-3.2$ gpg -K --fingerprint FD868CB5<br />sec&nbsp; &nbsp;4096R/FD868CB5 2012-07-01<br />&nbsp; &nbsp; &nbsp; Key fingerprint = 7487 95A6 29A5 C59B FF75&nbsp; A490 B5A6 614E FD86 8CB5<br />uid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br />ssb&nbsp; &nbsp;2048R/506A0834 2012-07-01<br />ssb&nbsp; &nbsp;4096g/3646D905 2012-07-01<br /><br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Step One:<br /><br />Once you have your key and the relevant subkeys, the first and most important step is to export your backup:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -a --export-secret-keys FD868CB5 &gt; FD868CB5-seckey.asc<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Step Two:<br /><br />You should also take the opportunity to export a copy of the public key:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -a --export FD868CB5 &gt; FD868CB5-pubkey.asc<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Step Three:<br /><br />The public key is ready to be distributed to anyone you wish to be able to encrypt data to you using that key.&nbsp; It can be published freely and sent anywhere.<br /><br />Step Four:<br /><br />The secret key should be copied to multiple secure locations, such as encrypted volumes on USB sticks and possibly other media.&nbsp; Ideally you do not want a backup on the same system or systems you will normally be using the key on.&nbsp; When you have finished transferring the secret key to other digital repositories, do *not* delete the secret key file as it is still needed for a few more steps.<br /><br /><br />The key comprises three components: the master key or certificate (0xFD868CB5 in this example), the signing subkey (0x506A0834) and the encryption subkey (0x3646D905).&nbsp; Each serves a different task, as the names suggest:<br /><br />* The master key/certificate is used to create new subkeys, revoke old subkeys and sign other people&#039;s keys.&nbsp; In this example it can also be used to sign messages and files, but only if a signing subkey is not present.<br />* The signing subkey is used to sign messages and files.&nbsp; Signatures are verified with the public key.<br />* The encryption subkey is used encrypt messages and files so that you can decrypt them.<br /><br />For day-to-day use only the signing subkey and the encryption subkey are required.&nbsp; So there is a security benefit to removing the master key and only restoring it from a backup when it is required to perform some action on the key or on another key.<br /><br /><br />Step Five:<br /><br />Export the subkeys only:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -a --export-secret-subkeys FD868CB5 &gt; FD868CB5-subkey.asc<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Make sure there are backups of the subkey file as well as the secret key file in each of your secure backup locations.<br /><br />Step Six:<br /><br />Delete the entire key from your secret keyrings:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --delete-secret-keys FD868CB5<br /><br />sec&nbsp; 4096R/FD868CB5 2012-07-01 Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />Delete this key from the keyring? (y/N) y<br />This is a secret key! - really delete? (y/N) y<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />This will leave the public key in your keyrings, but that&#039;s fine as it won&#039;t change during the rest of this tutorial.<br /><br />Step Seven:<br /><br />Import the subkeys from the file you created in Step Five:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --import FD868CB5-subkey.asc <br />gpg: key FD868CB5: secret key imported<br />gpg: key FD868CB5: &quot;Harry Angel (SR Test Key) &lt;nobody@example.com&gt;&quot; not changed<br />gpg: Total number processed: 1<br />gpg:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unchanged: 1<br />gpg:&nbsp; &nbsp; &nbsp; &nbsp;secret keys read: 1<br />gpg:&nbsp; &nbsp;secret keys imported: 1<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />You now have just the subkeys present:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -K FD868CB5<br />sec#&nbsp; 4096R/FD868CB5 2012-07-01<br />uid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br />ssb&nbsp; &nbsp;2048R/506A0834 2012-07-01<br />ssb&nbsp; &nbsp;4096g/3646D905 2012-07-01<br /><br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The hash symbol (&quot;#&quot;) next to the &quot;sec&quot; indicates that the master key is absent.<br /><br /><br />This should be the state the key is in when used on a day-to-day basis.&nbsp; There are, however, some further options I have not covered yet which may be of interest to some people, depending on your threat model.&nbsp; These include a paper backup of the secret key as ink and paper generally have a longer lifespan tha digital media and a pseudo-escrow option in case law enforcement comes calling.<br /><br /><br />Step Eight:<br /><br />Delete the signing subkey so that only the encryption subkey is left:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --edit-key FD868CB5<br />Secret key is available.<br /><br />pub&nbsp; 4096R/FD868CB5&nbsp; created: 2012-07-01&nbsp; expires: never&nbsp; &nbsp; &nbsp; &nbsp;usage: SC&nbsp; <br />sub&nbsp; 2048R/506A0834&nbsp; created: 2012-07-01&nbsp; expires: never&nbsp; &nbsp; &nbsp; &nbsp;usage: S&nbsp; &nbsp;<br />sub&nbsp; 4096g/3646D905&nbsp; created: 2012-07-01&nbsp; expires: never&nbsp; &nbsp; &nbsp; &nbsp;usage: E&nbsp; &nbsp;<br />[ unknown] (1). Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />gpg&gt; key 1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />pub&nbsp; 4096R/FD868CB5&nbsp; created: 2012-07-01&nbsp; expires: never&nbsp; &nbsp; &nbsp; &nbsp;usage: SC&nbsp; <br />sub* 2048R/506A0834&nbsp; created: 2012-07-01&nbsp; expires: never&nbsp; &nbsp; &nbsp; &nbsp;usage: S&nbsp; &nbsp;<br />sub&nbsp; 4096g/3646D905&nbsp; created: 2012-07-01&nbsp; expires: never&nbsp; &nbsp; &nbsp; &nbsp;usage: E&nbsp; &nbsp;<br />[ unknown] (1). Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />gpg&gt; delkey<br />Do you really want to delete this key? (y/N) y<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />pub&nbsp; 4096R/FD868CB5&nbsp; created: 2012-07-01&nbsp; expires: never&nbsp; &nbsp; &nbsp; &nbsp;usage: SC&nbsp; <br />sub&nbsp; 4096g/3646D905&nbsp; created: 2012-07-01&nbsp; expires: never&nbsp; &nbsp; &nbsp; &nbsp;usage: E&nbsp; &nbsp;<br />[ unknown] (1). Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />gpg&gt; save<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />This shows that both the public and secret keys have been changed to reflect this deletion:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -k FD868CB5<br />pub&nbsp; &nbsp;4096R/FD868CB5 2012-07-01<br />uid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br />sub&nbsp; &nbsp;4096g/3646D905 2012-07-01<br /><br />bash-3.2$ gpg -K FD868CB5<br />sec#&nbsp; 4096R/FD868CB5 2012-07-01<br />uid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br />ssb&nbsp; &nbsp;4096g/3646D905 2012-07-01<br /><br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Step Nine:<br /><br />Change the passphrase on the encryption subkey to something unrelated to any passphrase you have ever used or ever plan to use.&nbsp; This passphrase does not need to be very complex or secure:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --edit-key FD868CB5<br />Secret key is available.<br /><br />pub&nbsp; 4096R/FD868CB5&nbsp; created: 2012-07-01&nbsp; expires: never&nbsp; &nbsp; &nbsp; &nbsp;usage: SC&nbsp; <br />sub&nbsp; 4096g/3646D905&nbsp; created: 2012-07-01&nbsp; expires: never&nbsp; &nbsp; &nbsp; &nbsp;usage: E&nbsp; &nbsp;<br />[ unknown] (1). Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />gpg&gt; passwd<br />Secret parts of primary key are not available.<br /><br />You need a passphrase to unlock the secret key for<br />user: &quot;Harry Angel (SR Test Key) &lt;nobody@example.com&gt;&quot;<br />4096-bit ELG-E key, ID 3646D905, created 2012-07-01<br /><br />Enter the new passphrase for this secret key.<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />gpg&gt; save<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />You will be prompted for the current passphrase, followed by the new passphrase and a confirmarion of the new passphrase.<br /><br /><br />The purpose of this is to have a copy of the encryption subkey only with a passphrase that can be provided to adversaries (law enforcement or otherwise) when there is no other option (and there should be other options).<br /><br />If you do find yourself in a position where you must hand over your secret key and the passphrase then you want to be sure that:<br /><br />1) The passphrase is not one that is important to you.<br /><br />2) Your key cannot be used to sign messages or files i your name.<br /><br />3) The master key cannot be used to create additional subkeys which you do not have access to, but do appear in your name and attached to a valid key.<br /><br /><br />Step Ten:<br /><br />Save the new password in clear text in another file (e.g. FD868CB5-passphrase.txt).<br /><br />Export the encryption secret subkey to a file:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -a --export-secret-subkeys 3646D905 &gt; 3646D905-subkey.asc<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Step Eleven:<br /><br />Delete the remaining public and secret keys from the keyring:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --delete-secret-and-public-keys FD868CB5<br /><br />sec&nbsp; 4096R/FD868CB5 2012-07-01 Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />Delete this key from the keyring? (y/N) y<br />This is a secret key! - really delete? (y/N) y<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />pub&nbsp; 4096R/FD868CB5 2012-07-01 Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />Delete this key from the keyring? (y/N) y<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Then import the encryption subkey file we created in Step Ten to test what an opponent or enemy would see if it were provided:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --import 3646D905-subkey.asc <br />gpg: key FD868CB5: secret key imported<br />gpg: key FD868CB5: public key &quot;Harry Angel (SR Test Key) &lt;nobody@example.com&gt;&quot; imported<br />gpg: Total number processed: 1<br />gpg:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;imported: 1&nbsp; (RSA: 1)<br />gpg:&nbsp; &nbsp; &nbsp; &nbsp;secret keys read: 1<br />gpg:&nbsp; &nbsp;secret keys imported: 1<br />bash-3.2$ gpg -k FD868CB5<br />pub&nbsp; &nbsp;4096R/FD868CB5 2012-07-01<br />uid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br />sub&nbsp; &nbsp;4096g/3646D905 2012-07-01<br /><br />bash-3.2$ gpg -K FD868CB5<br />sec#&nbsp; 4096R/FD868CB5 2012-07-01<br />uid&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br />ssb&nbsp; &nbsp;4096g/3646D905 2012-07-01<br /><br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />If the key appears to be limited as above this key should be unable to sign any files and only decrypt files using the weaker or disposable passphrase:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ echo something &gt; something.txt<br />bash-3.2$ gpg -s -u FD868CB5 something.txt<br />gpg: secret key parts are not available<br />gpg: skipped &quot;FD868CB5&quot;: general error<br />gpg: signing failed: general error<br />bash-3.2$ gpg -ea -r FD868CB5 something.txt <br />bash-3.2$ rm -f something.txt<br />bash-3.2$ gpg something.txt.asc <br /><br />You need a passphrase to unlock the secret key for<br />user: &quot;Harry Angel (SR Test Key) &lt;nobody@example.com&gt;&quot;<br />4096-bit ELG-E key, ID 3646D905, created 2012-07-01 (main key ID FD868CB5)<br /><br />gpg: Invalid passphrase; please try again ...<br /><br />You need a passphrase to unlock the secret key for<br />user: &quot;Harry Angel (SR Test Key) &lt;nobody@example.com&gt;&quot;<br />4096-bit ELG-E key, ID 3646D905, created 2012-07-01 (main key ID FD868CB5)<br /><br />gpg: encrypted with 4096-bit ELG-E key, ID 3646D905, created 2012-07-01<br />&nbsp; &nbsp; &nbsp; &quot;Harry Angel (SR Test Key) &lt;nobody@example.com&gt;&quot;<br />bash-3.2$ cat something.txt <br />something<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The test is successful and we can now remove this key in exactly the same way we did at the beginning of this step:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --delete-secret-and-public-keys FD868CB5<br /><br />sec&nbsp; 4096R/FD868CB5 2012-07-01 Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />Delete this key from the keyring? (y/N) y<br />This is a secret key! - really delete? (y/N) y<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />pub&nbsp; 4096R/FD868CB5 2012-07-01 Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />Delete this key from the keyring? (y/N) y<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Step Twelve:<br /><br />Add the modified encryption subkey and the text file containing the weak passphrase to a zip file (or tarball or other archiving system) and then delete the source files:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ tar -cvf FD868CB5-escrow.tar FD868CB5-passphrase.txt 3646D905-subkey.asc <br />./._FD868CB5-passphrase.txt<br />FD868CB5-passphrase.txt<br />./._3646D905-subkey.asc<br />3646D905-subkey.asc<br />bash-3.2$ rm -f FD868CB5-passphrase.txt <br />bash-3.2$ rm -f 3646D905-subkey.asc <br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Step Thirteen:<br /><br />Import the full key and masterkey:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --import FD868CB5-seckey.asc <br />gpg: key FD868CB5: secret key imported<br />gpg: key FD868CB5: public key &quot;Harry Angel (SR Test Key) &lt;nobody@example.com&gt;&quot; imported<br />gpg: Total number processed: 1<br />gpg:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;imported: 1&nbsp; (RSA: 1)<br />gpg:&nbsp; &nbsp; &nbsp; &nbsp;secret keys read: 1<br />gpg:&nbsp; &nbsp;secret keys imported: 1<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Then encrypt the archive file (zip, tarball, whatever) with the key and then delete the archive file:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg -e -r FD868CB5 FD868CB5-escrow.tar <br />bash-3.2$ rm -f FD868CB5-escrow.tar<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Make copies of the encrypted escrow version of the key with every digital backup of the secret and public keys.<br /><br />Step Fourteen:<br /><br />You can now, optionally, make a paper copy of your secret key.&nbsp; To do this you will need David Shaw&#039;s Paperkey program, which is available here:<br /><br />http://www.jabberwocky.com/software/paperkey/&nbsp; &nbsp; (clearnet)<br /><br />You will need to compile the source code if you are using *nix, but there are binaries available for Windows users.<br /><br />Once paperkey is installed, a printable copy of your key can be created with the following command:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --export-secret-key FD868CB5 | paperkey --output FD868CB5-paperkey.txt<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />You should keep a printed copy in a safe place and then either delete the Paperkey output file or encrypt it and keep it with the other backup files.<br /><br />Step Fifteen:<br /><br />Delete the current keys:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --delete-secret-and-public-keys FD868CB5<br /><br />sec&nbsp; 4096R/FD868CB5 2012-07-01 Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />Delete this key from the keyring? (y/N) y<br />This is a secret key! - really delete? (y/N) y<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />pub&nbsp; 4096R/FD868CB5 2012-07-01 Harry Angel (SR Test Key) &lt;nobody@example.com&gt;<br /><br />Delete this key from the keyring? (y/N) y<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Import the subkeys only backup that was created in Step Five:<br /><br /><div class="quoteheader"><div class="topslice_quote">Quote</div></div><blockquote class="bbc_standard_quote">bash-3.2$ gpg --import FD868CB5-subkey.asc <br />gpg: key FD868CB5: secret key imported<br />gpg: key FD868CB5: &quot;Harry Angel (SR Test Key) &lt;nobody@example.com&gt;&quot; not changed<br />gpg: Total number processed: 1<br />gpg:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unchanged: 1<br />gpg:&nbsp; &nbsp; &nbsp; &nbsp;secret keys read: 1<br />gpg:&nbsp; &nbsp;secret keys imported: 1<br />bash-3.2$ <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />You are now back to the point you were at the end of Step Seven.<br /><br /><br />Any remaining files should be backed up in either an encrypted volume, with individual GPG encryption or both.&nbsp; The copies made during this process should all be deleted.&nbsp; Feel free to use a program like shred to expunge the files from the sytem(s) you operate from in addition to the normal &quot;rm -f&quot; command.<br /><br />Once again, I hope the above guide is of some assistance.<br /><br />
			</dd>
		</dl>
		<div id="footer" class="smalltext">
			
			<span class="smalltext" style="display: inline; visibility: visible; font-family: Verdana, Arial, sans-serif;"><a href="http://dkn255hz262ypmii.onion/index.php?action=credits" title="Simple Machines Forum" target="_blank" class="new_win">SMF 2.0.5</a> |
 <a href="http://www.simplemachines.org/about/smf/license.php" title="License" target="_blank" class="new_win">SMF &copy; 2013</a>, <a href="http://www.simplemachines.org" title="Simple Machines" target="_blank" class="new_win">Simple Machines</a>
			</span>
		</div>
	</body>
</html>