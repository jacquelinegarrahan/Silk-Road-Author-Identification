<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="robots" content="noindex" />
		<link rel="canonical" href="http://dkn255hz262ypmii.onion/index.php?topic=114159.0" />
		<title>Print Page - Bitcoin Node Over Tor</title>
		<style type="text/css">
			body, a
			{
				color: #000;
				background: #fff;
			}
			body, td, .normaltext
			{
				font-family: Verdana, arial, helvetica, serif;
				font-size: small;
			}
			h1#title
			{
				font-size: large;
				font-weight: bold;
			}
			h2#linktree
			{
				margin: 1em 0 2.5em 0;
				font-size: small;
				font-weight: bold;
			}
			dl#posts
			{
				width: 90%;
				margin: 0;
				padding: 0;
				list-style: none;
			}
			dt.postheader
			{
				border: solid #000;
				border-width: 1px 0;
				padding: 4px 0;
			}
			dd.postbody
			{
				margin: 1em 0 2em 2em;
			}
			table
			{
				empty-cells: show;
			}
			blockquote, code
			{
				border: 1px solid #000;
				margin: 3px;
				padding: 1px;
				display: block;
			}
			code
			{
				font: x-small monospace;
			}
			blockquote
			{
				font-size: x-small;
			}
			.smalltext, .quoteheader, .codeheader
			{
				font-size: x-small;
			}
			.largetext
			{
				font-size: large;
			}
			.centertext
			{
				text-align: center;
			}
			hr
			{
				height: 1px;
				border: 0;
				color: black;
				background-color: black;
			}
		</style>
	</head>
	<body>
		<h1 id="title">Silk Road forums</h1>
		<h2 id="linktree">Discussion => Security => Topic started by: raynardine on January 29, 2013, 11:03 pm</h2>
		<dl id="posts">
			<dt class="postheader">
				Title: <strong>Bitcoin Node Over Tor</strong><br />
				Post by: <strong>raynardine</strong> on <strong>January 29, 2013, 11:03 pm</strong>
			</dt>
			<dd class="postbody">
				It is entirely possible to run a Bitcoin node purely over Tor, now.<br /><br />See this manual entry!<br /><br />https://github.com/bitcoin/bitcoin/blob/master/doc/Tor.txt#L45<br /><br />Is that convenient or what?
			</dd>
			<dt class="postheader">
				Title: <strong>Re: Bitcoin Node Over Tor</strong><br />
				Post by: <strong>astor</strong> on <strong>January 30, 2013, 02:25 am</strong>
			</dt>
			<dd class="postbody">
				Yep, there are a bunch of bitcoin nodes running as hidden services that you can (try to) connect to. <br /><br />https://en.bitcoin.it/wiki/Fallback_Nodes#Tor_nodes<br /><br />I&#039;ve found it to be difficult, though, with frequent dropped connections.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: Bitcoin Node Over Tor</strong><br />
				Post by: <strong>SelfSovereignty</strong> on <strong>January 30, 2013, 02:52 am</strong>
			</dt>
			<dd class="postbody">
				I don&#039;t understand.&nbsp; What&#039;s the advantage to this, other than flooding the Tor network with even more packets...?&nbsp; Just tunnel bitcoind through your Tor program and let it operate as usual: I&#039;m not aware of anything an exit node can do that would harm you even when you&#039;re going through one to get to the next bitcoin node?<br /><br />And by definition, you can&#039;t keep the traffic encrypted from everybody else or your transactions won&#039;t be propagated through the network...?<br /><br />Bitcoin nodes only maintain 8 active connections.&nbsp; I don&#039;t see how it&#039;s helpful to have other nodes trying to make incoming connections, when you can just make your 8 as outgoing and would start blocking the incoming ones regardless...?<br />
			</dd>
			<dt class="postheader">
				Title: <strong>Re: Bitcoin Node Over Tor</strong><br />
				Post by: <strong>astor</strong> on <strong>January 30, 2013, 06:07 am</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=114159.msg776370#msg776370">Quote from: SelfSovereignty on January 30, 2013, 02:52 am</a></div></div><blockquote class="bbc_standard_quote">I don&#039;t understand.&nbsp; What&#039;s the advantage to this, other than flooding the Tor network with even more packets...? <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The network is only carrying about 60% of its advertised capacity:<br /><br />https://metrics.torproject.org/bandwidth.png<br /><br />Encrypting the data seems to be the rate-limiting step.<br /><br />That being said, the more users there are, the more diverse they are, and the more diverse the traffic, the safer and more anonymous everyone is. Bitcoin clients only download and upload about 100 MB a day (although that depends on how many connections they maintain), so this isn&#039;t like bittorrent traffic.<br /><br /><div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=114159.msg776370#msg776370">Quote from: SelfSovereignty on January 30, 2013, 02:52 am</a></div></div><blockquote class="bbc_standard_quote">Just tunnel bitcoind through your Tor program and let it operate as usual: I&#039;m not aware of anything an exit node can do that would harm you even when you&#039;re going through one to get to the next bitcoin node?<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />That&#039;s true, there&#039;s really no advantage to connecting to a hidden service as opposed to a regular bitcoin node over Tor, and the connections tend to be much spottier.<br /><br /><div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=114159.msg776370#msg776370">Quote from: SelfSovereignty on January 30, 2013, 02:52 am</a></div></div><blockquote class="bbc_standard_quote">Bitcoin nodes only maintain 8 active connections.&nbsp; I don&#039;t see how it&#039;s helpful to have other nodes trying to make incoming connections, when you can just make your 8 as outgoing and would start blocking the incoming ones regardless...?<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />You can specify however many connections you want in bitcoin.conf:<br /><br />maxconnections=N<br /><br />You can even specify the nodes you want to connect to (that&#039;s how connecting to onion addresses works, actually, you have to tell Tor to map private IP addresses to onion domains using the mapaddress feature and then tell bitcoin-qt to connect to those IP addresses).<br /><br />Anyway, I don&#039;t think there&#039;s a distinction between incoming and outgoing connections. 
			</dd>
			<dt class="postheader">
				Title: <strong>Re: Bitcoin Node Over Tor</strong><br />
				Post by: <strong>astor</strong> on <strong>January 30, 2013, 06:14 am</strong>
			</dt>
			<dd class="postbody">
				BTW, if you run bitcoin-qt over Tor, I recommend decreasing maxconnections to 3 or 4. It takes a while to build all the connections because (apparently) a lot of bitcoin nodes don&#039;t accept them. I don&#039;t think bitcoin-qt can be configured to block specific IP addresses, but there may be firewalls or ISPs interfering with connections from exit nodes.<br /><br />The other concern is that you may not want to run bitcoiin-qt as a hidden service since there are known attacks to deanonymize hidden services.
			</dd>
			<dt class="postheader">
				Title: <strong>Re: Bitcoin Node Over Tor</strong><br />
				Post by: <strong>SelfSovereignty</strong> on <strong>January 30, 2013, 02:31 pm</strong>
			</dt>
			<dd class="postbody">
				<div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=114159.msg777095#msg777095">Quote from: astor on January 30, 2013, 06:07 am</a></div></div><blockquote class="bbc_standard_quote"><div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=114159.msg776370#msg776370">Quote from: SelfSovereignty on January 30, 2013, 02:52 am</a></div></div><blockquote class="bbc_alternate_quote">I don&#039;t understand.&nbsp; What&#039;s the advantage to this, other than flooding the Tor network with even more packets...? <br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />The network is only carrying about 60% of its advertised capacity:<br /><br />https://metrics.torproject.org/bandwidth.png<br /><br />Encrypting the data seems to be the rate-limiting step.<br /><br />That being said, the more users there are, the more diverse they are, and the more diverse the traffic, the safer and more anonymous everyone is. Bitcoin clients only download and upload about 100 MB a day (although that depends on how many connections they maintain), so this isn&#039;t like bittorrent traffic.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />You&#039;re absolutely right; this slipped my mind last night.&nbsp; Thanks.<br /><br /><div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=114159.msg777095#msg777095">Quote from: astor on January 30, 2013, 06:07 am</a></div></div><blockquote class="bbc_standard_quote"><div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=114159.msg776370#msg776370">Quote from: SelfSovereignty on January 30, 2013, 02:52 am</a></div></div><blockquote class="bbc_alternate_quote">Just tunnel bitcoind through your Tor program and let it operate as usual: I&#039;m not aware of anything an exit node can do that would harm you even when you&#039;re going through one to get to the next bitcoin node?<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />That&#039;s true, there&#039;s really no advantage to connecting to a hidden service as opposed to a regular bitcoin node over Tor, and the connections tend to be much spottier.<br /><br /><div class="quoteheader"><div class="topslice_quote"><a href="http://dkn255hz262ypmii.onion/index.php?topic=114159.msg776370#msg776370">Quote from: SelfSovereignty on January 30, 2013, 02:52 am</a></div></div><blockquote class="bbc_alternate_quote">Bitcoin nodes only maintain 8 active connections.&nbsp; I don&#039;t see how it&#039;s helpful to have other nodes trying to make incoming connections, when you can just make your 8 as outgoing and would start blocking the incoming ones regardless...?<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />You can specify however many connections you want in bitcoin.conf:<br /><br />maxconnections=N<br /><br />You can even specify the nodes you want to connect to (that&#039;s how connecting to onion addresses works, actually, you have to tell Tor to map private IP addresses to onion domains using the mapaddress feature and then tell bitcoin-qt to connect to those IP addresses).<br /><br />Anyway, I don&#039;t think there&#039;s a distinction between incoming and outgoing connections.<br /></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Try it and see what happens.&nbsp; With the reference client (bitcoind, not sure about bitcoin-qt), it didn&#039;t work in 0.69, and that&#039;s the perspective I&#039;m coming from.&nbsp; They have some bizarre definition for that value that I honestly didn&#039;t bother looking into much.&nbsp; Basically it doesn&#039;t mean what I assumed it meant, and when I saw that it&#039;s not a bug I just let it go.&nbsp; But the client won&#039;t ever maintain more than 8 connections.&nbsp; Given how unintuitive that is, personally I think it&#039;s a poor decision not to at least change the names of the options or something, but whatever.&nbsp; Not my project.
			</dd>
		</dl>
		<div id="footer" class="smalltext">
			
			<span class="smalltext" style="display: inline; visibility: visible; font-family: Verdana, Arial, sans-serif;"><a href="http://dkn255hz262ypmii.onion/index.php?action=credits" title="Simple Machines Forum" target="_blank" class="new_win">SMF 2.0.5</a> |
 <a href="http://www.simplemachines.org/about/smf/license.php" title="License" target="_blank" class="new_win">SMF &copy; 2013</a>, <a href="http://www.simplemachines.org" title="Simple Machines" target="_blank" class="new_win">Simple Machines</a>
			</span>
		</div>
	</body>
</html>