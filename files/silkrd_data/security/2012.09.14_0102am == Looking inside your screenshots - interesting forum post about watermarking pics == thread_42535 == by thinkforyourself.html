<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="robots" content="noindex" />
		<link rel="canonical" href="http://dkn255hz262ypmii.onion/index.php?topic=42535.0" />
		<title>Print Page - Looking inside your screenshots - interesting forum post about watermarking pics</title>
		<style type="text/css">
			body, a
			{
				color: #000;
				background: #fff;
			}
			body, td, .normaltext
			{
				font-family: Verdana, arial, helvetica, serif;
				font-size: small;
			}
			h1#title
			{
				font-size: large;
				font-weight: bold;
			}
			h2#linktree
			{
				margin: 1em 0 2.5em 0;
				font-size: small;
				font-weight: bold;
			}
			dl#posts
			{
				width: 90%;
				margin: 0;
				padding: 0;
				list-style: none;
			}
			dt.postheader
			{
				border: solid #000;
				border-width: 1px 0;
				padding: 4px 0;
			}
			dd.postbody
			{
				margin: 1em 0 2em 2em;
			}
			table
			{
				empty-cells: show;
			}
			blockquote, code
			{
				border: 1px solid #000;
				margin: 3px;
				padding: 1px;
				display: block;
			}
			code
			{
				font: x-small monospace;
			}
			blockquote
			{
				font-size: x-small;
			}
			.smalltext, .quoteheader, .codeheader
			{
				font-size: x-small;
			}
			.largetext
			{
				font-size: large;
			}
			.centertext
			{
				text-align: center;
			}
			hr
			{
				height: 1px;
				border: 0;
				color: black;
				background-color: black;
			}
		</style>
	</head>
	<body>
		<h1 id="title">Silk Road forums</h1>
		<h2 id="linktree">Discussion => Security => Topic started by: thinkforyourself on September 14, 2012, 01:02 am</h2>
		<dl id="posts">
			<dt class="postheader">
				Title: <strong>Looking inside your screenshots - interesting forum post about watermarking pics</strong><br />
				Post by: <strong>thinkforyourself</strong> on <strong>September 14, 2012, 01:02 am</strong>
			</dt>
			<dd class="postbody">
				Just saw this forum post and thought it&#039;s really interesting. The article is about a watermarking technology which is used by Blizzard to mark screenshots made with the World of Warcraft client. Wasn&#039;t aware that so much information can easily be hidden without millions of people noticing.<br /><br />Clearnet link:<br />http://www.ownedcore.com/forums/world-of-warcraft/world-of-warcraft-general/375573-looking-inside-your-screenshots.html<br /><br />The article if you don&#039;t want to visit the site, the article contains screenshots which were made to show the watermarking:<br />-----------------------------------------------------<br />Looking inside your screenshots<br />&nbsp; <br />Updated 12/09 (the watermarking apparently started in 2007):<br /><br />DISCLAIMER: This thread post contains detailed information on how to view a hidden watermark which has been verified to exist embeded in JPG screenshots produced by the WoW client. The watermark itself includes, encoded in unencrypted bytes, the user&#039;s account name (\World of Warcraft\WTF\Account\), an HH:MM timestamp and the IP address of the server. If you do not care about Blizzard secretly watermarking your screenshots without any specific prior notification in the ToS or EULA, then this post probably isn&#039;t for you&nbsp; Thank you for your attention.<br /><br />Dear everyone<br /><br />This post may have been moved to WoW General, but it still remains an exploit - one which is used against us...<br /><br />1) Go somewhere where there aren&#039;t any (or a lot) of textures. I used the druid blink bug to go to the north end of the world but you should go below Dalaran in Crystalsong Forest, as bluesius suggested, because you will get a better screenshot if you stick your face in the pure white trees.<br /><br />2) Type:<br /><br />/console SET screenshotQuality &quot;9&quot;<br /><br />Make sure you use 9, not 10.<br /><br />3) Take a few screenshots of the clear, no textures, white area by zooming into a tree and hitting ALT Z, so that your entire screen is white.<br /><br /><br /><br />4) Open this image in an image editing program like IrfanView (it&#039;s freeware), click CTRL+E, select the Sharpening filter, use the highest possible sharpening value (99) and click OK. Now do this two more times, again: CTRL+E, Sharpen 99, OK.<br /><br />5) You are now looking at your character&#039;s WoW watermark / custom bar-code / qr code look-a-like / call it what you will:<br /><br /><br /><br />Apparently, each user has a different set of these repeatable patterns, which contain account and realm information, and it looks like if they are scanned by software that recognizes them, they can reveal our character&#039;s account name/id, the time of the screenshot and the the full information of the realm, including its IP address (think &quot;private servers&quot;).<br /><br />Note that if your screen resolution is too high, the pattern will look something like this:<br /><br />&nbsp;(larger footprint)<br /><br />The pattern, which consists of approximately 88 bytes of data, repeats itself many times depending on the resolution of your screen. See below for a colored representation: the account id and realm information are depicted in red and the current time (seconds not included) is depicted in blue:<br /><br /><br /><br /><br />IMPORTANT NOTE: IF YOU CAN&#039;T BOTHER READING ANYTHING ELSE, READ THIS:<br /><br />The secret watermark which is being intentionally embedded inside WoW generated screenshots below top quality, DOES NOT CONTAIN the account password, the IP address of the user or any personal information like name/surname etc. It does contain the account ID, a timestamp and the IP address of the current realm. It can be used by malicious hackers to link alt. characters to accounts and target specific spam or scam attacks, and it can be used by Blizzard to track down private WoW servers.<br /><br />Based on Blizzard&#039;s ToS (http://us.blizzard.com/en-us/company/legal/wow_tou.html), Blizzard is allowed to communicate information about our hard drive, CPU, operating systems, IP addresses, running tasks, account name and current time and date. It never mentions anything though about embedding some of these data into every screenshot we capture using the WoW printscreen tool. The users [mistakenly] assume that Blizzard will use a safe channel via battle.net, not our public screenshots that we share with the world, unaware of their secret contents. This unencrypted watermarking mechanism fails to protect our privacy, not from Blizzard employees (they already know everything about our computer systems), but from malicious hackers looking for something or someone to take advantage of.<br /><br />If they only wanted it for screenshot-authenticity reasons, as some argued, they could have just watermarked a unique version of their logo or perhaps an encrypted key. But we found account and realm information which means that its aim is to secretly track the users, in addition to the known tracking methods that we agree to in the ToS.<br /><br />_Mike, schlumpf and Master674 have managed to disassemble the watermark data and help us verify which pieces of information are contained inside. Do note that this covert watermarking has been confirmed, by multiple sources, to have started immediately or soon after Patch 2.1.0 in 2007 (before the Activision deal), which introduced JPG screenshots for the first time (http://us.battle.net/wow/en/game/patch-notes/2-1-0), so you may want to delete/remove from the public domain all your JPG screenshots captured by WoW. Sorry Activision haters, looks like this one was on Blizzard <br /><br />The contained information can be easily recovered and decrypted by malicious hackers (if we did it, so can they). For example, someone could use this to identify which account holds which characters and perhaps stalk and annoy its user, or help perpetrators choose their phishing victims with a more targeted approach. They could unleash Web spider bots scanning for WoW screenshots, decode their hidden watermark data and quickly create a comprehensive database of which account has which alts in it, that they can then sell to anyone interested. Perhaps someone is already using this since the watermark has been around for five years already.<br /><br />Bear in mind that when this started, back in 2007, we were still using our account name to login so, before the battle.net conversion in 2009, the watermarks actually had really sensitive information... Between May 22, 2007 and November 11, 2009, any malicious hacker who knew about this could have used a screenshot of a lucrative character to find their actual username &amp; active realm and then either try to scam them out of their password, or just brute-force it.<br /><br />It looks like when Blizzard decided to add JPG screenshots into the WoW client, they also teamed up with Digimarc (http://www.digimarc.com) to provide us this wonderful service of secretly tagging our in-game screenshots with our account and realm information. Although it has not yet been verified, it is possible that Blizzard is using an automated monitoring service which downloads image files from various Internet sites and checks them for the presence of their embedded digital watermark data, kindly provided by Digimarc: http://www.google.co.uk/patents/US7653210<br /><br />I must repeat, once more, that these patterns are not &quot;random artifacts&quot;, because random artifacts don&#039;t produce account IDs: http://www.ownedcore.com/forums/worl...ml#post2493377 (Looking inside your screenshots)<br /><br />Thanks to _Mike, we also verified that there is no pattern included in high quality screenshots like TGA and JPG/10. So, in order to avoid any further watermarking, type: /console SET screenshotQuality &quot;10&quot; which will set the quality of your screenshots to the maximum and create screenshots that do not include the watermark.<br /><br />l0l1dk has developed a tool to disable the addition of watermarks in the lower quality screenshots but use it at your own risk/responsibility because it could corrupt the WoW client, which could then require a clean re-installation of the game (it&#039;s also against the ToS). It is much simpler to just set the JPG quality to max.<br /><br />Finally, a lot of people are asking how we managed to decode the watermark pattern. Well it took a lot of teamwork, which you can find in the next pages here, and we came up with two source codes which successfully read the pattern data:<br /><br />Java: http://www.ownedcore.com/forums/worl...ml#post2492716<br /><br />C#: http://www.ownedcore.com/forums/worl...ml#post2493450<br /><br />Try it yourselves. Read the rest of the thread for more information. If you have any comments, ideas or suggestions please share. Politeness is appreciated.<br />-----------------------------------------------------
			</dd>
		</dl>
		<div id="footer" class="smalltext">
			
			<span class="smalltext" style="display: inline; visibility: visible; font-family: Verdana, Arial, sans-serif;"><a href="http://dkn255hz262ypmii.onion/index.php?action=credits" title="Simple Machines Forum" target="_blank" class="new_win">SMF 2.0.5</a> |
 <a href="http://www.simplemachines.org/about/smf/license.php" title="License" target="_blank" class="new_win">SMF &copy; 2013</a>, <a href="http://www.simplemachines.org" title="Simple Machines" target="_blank" class="new_win">Simple Machines</a>
			</span>
		</div>
	</body>
</html>